<div [formGroup]="formGroup" [hidden]="hidden">
  <div class="margin-bottom-2">
    <h3 id="{{ formData?.controlName }}">
      {{ formData?.title }}
    </h3>
  </div>
  <fieldset class="usa-fieldset">
    @if (formData?.label) {
      <p class="usa-legend margin-y-0">
        {{ formData?.label }}
      </p>
    }
    <!-- TODO: Show Error message here -->
    @for (button of formData?.options; track button; let i = $index) {
      <div>
        <div class="usa-radio">
          <input
            (click)="onClicked(button)"
            class="usa-radio__input usa-radio__input--tile"
            id="radio_answer_{{ button.controlName }}_{{ i }}"
            type="radio"
            formControlName="{{ formData?.controlName }}"
            value="{{ button.value }}"
            [attr.name]="formData?.controlName"
            formPageService
          [attr.aria-label]="
            formPageService.generateAriaLabel(button, formData)
          "
            />
            <label
              id="radio_label_{{ button.controlName }}_{{ i }}"
              class="usa-radio__label"
              [ngClass]="{ 'art-bold': button.description }"
              for="radio_answer_{{ button.controlName }}_{{ i }}"
              >{{ button.label }}
              @if (button.description) {
                <span
                  class="usa-checkbox__label-description"
                  [innerHTML]="button.description"
                ></span>
              }
            </label>
          </div>
        </div>
      }
      @for (eachOpt of formData?.options; track eachOpt) {
        <div>
          @if (
            formGroup.value[formData!.controlName] === eachOpt.value &&
            eachOpt.info
            ) {
            <div
              class="usa-alert usa-alert--info usa-alert--no-icon margin-top-2"
              >
              <div class="usa-alert__body">
                <p class="usa-alert__text">
                  {{ eachOpt.info }}
                </p>
              </div>
            </div>
          }
        </div>
      }
    </fieldset>
  </div>
