"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[606],{9606:(t,e,i)=>{i.r(e),i.d(e,{createUpgradePath:()=>bc,getConverter:()=>fc,getTransformSteps:()=>gc,getVersionClaim:()=>yc,upgrade:()=>mc});var n=i(2),a=i(3537),o=i(8683),r=i(6195);const l=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),z=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),d=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:z.default({value:1,unit:"px"})}),u=r.z.object({assetId:r.z.string().optional(),color:r.z.string().optional(),opacity:r.z.number().min(0).max(1).default(1)}),s=u.extend({type:r.z.literal("color"),color:r.z.string().default("#e4e4e4")}),c=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),p=u.extend({type:r.z.literal("image"),assetId:r.z.string(),crop:c.default({width:1,height:1,left:0,top:0})}),m=u.extend({type:r.z.literal("none")}),b=r.z.discriminatedUnion("type",[s,p,m]),g=r.z.discriminatedUnion("type",[s,m]),f=r.z.object({top:z.default({value:0,unit:"px"}),left:z.default({value:0,unit:"px"}),bottom:z.default({value:0,unit:"px"}),right:z.default({value:0,unit:"px"})}),y=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),x=y.extend({x:z.default({value:0,unit:"px"}),y:z.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:z.default({value:100,unit:"%"}),height:z.default({value:100,unit:"%"}),padding:f,fill:b,overlay:g,aspectRatioLocked:r.z.boolean(),border:d,borderRadius:r.z.object({applied:r.z.boolean().default(!1),topLeft:z.default({value:0,unit:"px"}),topRight:z.default({value:0,unit:"px"}),bottomRight:z.default({value:0,unit:"px"}),bottomLeft:z.default({value:0,unit:"px"})}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1)}),h=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover"])}),j=h.extend({action:r.z.literal("changeState"),targetId:r.z.string(),targetState:r.z.string().default("default")}),v=h.extend({action:r.z.literal("changeVisibility"),targetId:r.z.string(),targetVisibility:r.z.boolean()}),I=r.z.discriminatedUnion("action",[j,v]),k=t=>r.z.intersection(y,t.partial()),S=t=>r.z.intersection(r.z.object({default:t}),r.z.record(k(t))),w=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:S(t),triggers:r.z.array(I),assets:r.z.record(l).default({}).optional(),removed:r.z.boolean().default(!1)}),R=(k(x),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional(),state:r.z.string(),visible:r.z.boolean()})),P=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(R).max(1)}),V=x.extend({children:r.z.array(R)}),_=w(V).extend({type:r.z.literal("group")}),U=(k(V),x.extend({altText:r.z.string().default("")})),L=w(U).extend({type:r.z.literal("image")}),C=(k(U),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>C))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),O=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:C}),E=r.z.enum(["top","middle","bottom"]),X=x.extend({text:O,textVerticalAlign:E.default("top")}),F=w(X).extend({type:r.z.literal("text")}),A=(k(X),X.extend({clipPath:r.z.literal("ellipse").nullable().default(null),altText:r.z.string().nullable().default(null)})),T=w(A).extend({type:r.z.literal("shape")}),D=(k(A),r.z.object({default:r.z.string()})),N=x.extend({videoSources:D}),q=w(N).extend({type:r.z.literal("video")}),B=(k(N),r.z.discriminatedUnion("type",[_,L,T,F,q])),Y=r.z.object({blockuments:r.z.record(P).optional(),items:r.z.record(B).optional()}),M=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),$=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),G=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:$.default({value:1,unit:"px"})}),H=r.z.object({assetId:r.z.string().optional(),color:r.z.string().optional(),opacity:r.z.number().min(0).max(1).default(1)}),J=H.extend({type:r.z.literal("color"),color:r.z.string().default("#e4e4e4")}),K=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),Q=H.extend({type:r.z.literal("image"),assetId:r.z.string(),crop:K.default({width:1,height:1,left:0,top:0})}),W=H.extend({type:r.z.literal("none")}),Z=r.z.discriminatedUnion("type",[J,Q,W]),tt=r.z.discriminatedUnion("type",[J,W]),et=r.z.object({top:$.default({value:0,unit:"px"}),left:$.default({value:0,unit:"px"}),bottom:$.default({value:0,unit:"px"}),right:$.default({value:0,unit:"px"})}),it=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),nt=it.extend({x:$.default({value:0,unit:"px"}),y:$.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:$.default({value:100,unit:"%"}),height:$.default({value:100,unit:"%"}),padding:et,fill:Z,overlay:tt,aspectRatioLocked:r.z.boolean(),border:G,borderRadius:r.z.object({applied:r.z.boolean().default(!1),topLeft:$.default({value:0,unit:"px"}),topRight:$.default({value:0,unit:"px"}),bottomRight:$.default({value:0,unit:"px"}),bottomLeft:$.default({value:0,unit:"px"})}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1)}),at=t=>r.z.intersection(it,t.partial()),ot=t=>r.z.intersection(r.z.object({default:t}),r.z.record(at(t))),rt=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:ot(t),assets:r.z.record(M).default({}).optional(),removed:r.z.boolean().default(!1)}),lt=(at(nt),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional(),state:r.z.string(),visible:r.z.boolean()})),zt=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:r.z.string().optional()}),dt=zt.extend({action:r.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:r.z.string()}),ut=zt.extend({action:r.z.literal("changeState"),targetId:r.z.string(),targetState:r.z.string().default("default")}),st=zt.extend({action:r.z.literal("changeVisibility"),targetId:r.z.string(),targetVisibility:r.z.boolean()}),ct=r.z.discriminatedUnion("action",[ut,st,dt]),pt=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(lt).max(1),triggers:r.z.array(ct)}),mt=nt.extend({children:r.z.array(lt)}),bt=rt(mt).extend({type:r.z.literal("group")}),gt=(at(mt),nt.extend({altText:r.z.string().default("")})),ft=rt(gt).extend({type:r.z.literal("image")}),yt=(at(gt),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>yt))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),xt=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:yt}),ht=r.z.enum(["top","middle","bottom"]),jt=nt.extend({text:xt,textVerticalAlign:ht.default("top")}),vt=rt(jt).extend({type:r.z.literal("text")}),It=(at(jt),jt.extend({clipPath:r.z.literal("ellipse").nullable().default(null),altText:r.z.string().nullable().default(null)})),kt=rt(It).extend({type:r.z.literal("shape")}),St=(at(It),r.z.object({default:r.z.string()})),wt=nt.extend({videoSources:St}),Rt=rt(wt).extend({type:r.z.literal("video")}),Pt=(at(wt),r.z.discriminatedUnion("type",[bt,ft,kt,vt,Rt])),Vt=r.z.object({blockuments:r.z.record(pt).optional(),items:r.z.record(Pt).optional()});var _t=i(3134),Ut=i(4348);const Lt=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),Ct=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),Ot=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:Ct.default({value:1,unit:"px"})}),Et=r.z.object({assetId:r.z.string().optional(),color:r.z.string().optional(),opacity:r.z.number().min(0).max(1).default(1)}),Xt=Et.extend({type:r.z.literal("color"),color:r.z.string().default("#e4e4e4")}),Ft=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),At=Et.extend({type:r.z.literal("image"),assetId:r.z.string(),crop:Ft.default({width:1,height:1,left:0,top:0})}),Tt=Et.extend({type:r.z.literal("none")}),Dt=r.z.discriminatedUnion("type",[Xt,At,Tt]),Nt=r.z.discriminatedUnion("type",[Xt,Tt]),qt=r.z.object({top:Ct.default({value:0,unit:"px"}),left:Ct.default({value:0,unit:"px"}),bottom:Ct.default({value:0,unit:"px"}),right:Ct.default({value:0,unit:"px"})}),Bt=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),Yt=Bt.extend({x:Ct.default({value:0,unit:"px"}),y:Ct.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:Ct.default({value:100,unit:"%"}),height:Ct.default({value:100,unit:"%"}),padding:qt,fill:Dt,overlay:Nt,aspectRatioLocked:r.z.boolean(),border:Ot,borderRadius:r.z.object({applied:r.z.boolean().default(!1),topLeft:Ct.default({value:0,unit:"px"}),topRight:Ct.default({value:0,unit:"px"}),bottomRight:Ct.default({value:0,unit:"px"}),bottomLeft:Ct.default({value:0,unit:"px"})}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1)}),Mt=t=>r.z.intersection(Bt,t.partial()),$t=t=>r.z.intersection(r.z.object({default:t}),r.z.record(Mt(t))),Gt=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:$t(t),assets:r.z.record(Lt).default({}).optional(),removed:r.z.boolean().default(!1),_v:r.z.literal(3)}),Ht=(Mt(Yt),r.z.object({default:r.z.string()})),Jt=Yt.extend({audioSources:Ht}),Kt=Gt(Jt).extend({type:r.z.literal("audio")}),Qt=(Mt(Jt),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional(),state:r.z.string(),visible:r.z.boolean()})),Wt=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:r.z.string().optional()}),Zt=Wt.extend({action:r.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:r.z.string()}),te=Wt.extend({action:r.z.literal("changeState"),targetId:r.z.string(),targetState:r.z.string().default("default")}),ee=Wt.extend({action:r.z.literal("changeVisibility"),targetId:r.z.string(),targetVisibility:r.z.boolean()}),ie=r.z.discriminatedUnion("action",[te,ee,Zt]),ne=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(Qt).max(1),triggers:r.z.array(ie),_v:r.z.literal(3)}),ae=Yt.extend({children:r.z.array(Qt)}),oe=Gt(ae).extend({type:r.z.literal("group")}),re=(Mt(ae),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>re))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),le=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:re}),ze=r.z.enum(["top","middle","bottom"]),de=Yt.extend({text:le,textVerticalAlign:ze.default("top")}),ue=Gt(de).extend({type:r.z.literal("text")}),se=(Mt(de),de.extend({clipPath:r.z.literal("ellipse").nullable().default(null),altText:r.z.string().nullable().default(null)})),ce=Gt(se).extend({type:r.z.literal("shape")}),pe=(Mt(se),r.z.object({default:r.z.string()})),me=Yt.extend({videoSources:pe}),be=Gt(me).extend({type:r.z.literal("video")}),ge=(Mt(me),r.z.discriminatedUnion("type",[Kt,oe,ce,ue,be])),fe=r.z.object({blockuments:r.z.record(ne).optional(),items:r.z.record(ge).optional()});var ye=i(4816);function xe(t,e,i){const{default:n,...a}=t;return{default:e(n),...ye(a,i)}}function he(t){return{...t,altText:"altText"in t?t.altText??null:void 0}}function je(t){return{...t,clipPath:null,altText:t.altText??null,text:{id:crypto.randomUUID(),type:"tiptap",json:{type:"doc",content:[]}},textVerticalAlign:"middle"}}function ve(t){return"image"===t.type?function(t){return{...t,_v:3,type:"shape",states:xe(t.states,je,he)}}(t):{...t,_v:3}}const Ie=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),ke=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),Se=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:ke.default({value:1,unit:"px"})}),we=r.z.object({assetId:r.z.string().optional(),color:r.z.string().optional(),opacity:r.z.number().min(0).max(1).default(1)}),Re=we.extend({type:r.z.literal("color"),color:r.z.string().default("#e4e4e4")}),Pe=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),Ve=we.extend({type:r.z.literal("image"),assetId:r.z.string(),crop:Pe.default({width:1,height:1,left:0,top:0})}),_e=we.extend({type:r.z.literal("none")}),Ue=r.z.discriminatedUnion("type",[Re,Ve,_e]),Le=r.z.discriminatedUnion("type",[Re,_e]),Ce=r.z.object({top:ke.default({value:0,unit:"px"}),left:ke.default({value:0,unit:"px"}),bottom:ke.default({value:0,unit:"px"}),right:ke.default({value:0,unit:"px"})}),Oe=r.z.object({type:r.z.literal("rectangle"),borderRadius:r.z.object({topLeft:r.z.number(),topRight:r.z.number(),bottomRight:r.z.number(),bottomLeft:r.z.number()}).optional()}),Ee=r.z.object({type:r.z.literal("ellipse")}),Xe=r.z.object({type:r.z.literal("star"),sidePairs:r.z.number().min(3),innerRadius:r.z.number().min(.1).max(1)}),Fe=r.z.object({type:r.z.literal("cloud")}),Ae=r.z.discriminatedUnion("type",[Oe,Ee,Xe,Fe]),Te=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),De=Te.extend({x:ke.default({value:0,unit:"px"}),y:ke.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:ke.default({value:100,unit:"%"}),height:ke.default({value:100,unit:"%"}),padding:Ce,fill:Ue,overlay:Le,aspectRatioLocked:r.z.boolean(),border:Se,clipDef:Ae.default({type:"rectangle"}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1)}),Ne=t=>r.z.intersection(Te,t.partial()),qe=t=>r.z.intersection(r.z.object({default:t}),r.z.record(Ne(t))),Be=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:qe(t),assets:r.z.record(Ie).default({}).optional(),removed:r.z.boolean().default(!1),_v:r.z.literal(4)}),Ye=(Ne(De),r.z.object({default:r.z.string()})),Me=De.extend({audioSources:Ye}),$e=Be(Me).extend({type:r.z.literal("audio")}),Ge=(Ne(Me),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional(),state:r.z.string(),visible:r.z.boolean()})),He=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:r.z.string().optional()}),Je=He.extend({action:r.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:r.z.string()}),Ke=He.extend({action:r.z.literal("changeState"),targetId:r.z.string(),targetState:r.z.string().default("default")}),Qe=He.extend({action:r.z.literal("changeVisibility"),targetId:r.z.string(),targetVisibility:r.z.boolean()}),We=r.z.discriminatedUnion("action",[Ke,Qe,Je]),Ze=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(Ge).max(1),triggers:r.z.array(We),fonts:r.z.record(r.z.string()).optional(),_v:r.z.literal(4)}),ti=De.extend({children:r.z.array(Ge)}),ei=Be(ti).extend({type:r.z.literal("group")}),ii=(Ne(ti),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>ii))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),ni=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:ii}),ai=r.z.enum(["top","middle","bottom"]),oi=De.extend({text:ni,textVerticalAlign:ai.default("top")}),ri=Be(oi).extend({type:r.z.literal("text")}),li=(Ne(oi),oi.extend({altText:r.z.string().nullable().default(null)})),zi=Be(li).extend({type:r.z.literal("shape")}),di=(Ne(li),r.z.object({default:r.z.string()})),ui=De.extend({videoSources:di}),si=Be(ui).extend({type:r.z.literal("video")}),ci=(Ne(ui),r.z.discriminatedUnion("type",[$e,ei,zi,ri,si])),pi=r.z.object({blockuments:r.z.record(Ze).optional(),items:r.z.record(ci).optional()});function mi(t){return t.applied?{type:"rectangle",borderRadius:{topLeft:t.topLeft.value,topRight:t.topRight.value,bottomRight:t.bottomRight.value,bottomLeft:t.bottomLeft.value}}:{type:"rectangle"}}function bi(t){const{clipPath:e,borderRadius:i,...n}=t;return"ellipse"===e?{...n,clipDef:{type:"ellipse"}}:{...n,clipDef:mi(i)}}function gi(t){const{borderRadius:e,...i}=t;return{...i,clipDef:mi(e)}}function fi(t){const{borderRadius:e,...i}=t;return e?{...i,clipDef:mi(e)}:{...i}}function yi(t){if("shape"===t.type)return{...t,_v:4,states:xe(t.states,bi,(e=>function(t,e){const{clipPath:i,borderRadius:n,...a}=t;return"ellipse"===i?{...a,clipDef:{type:"ellipse"}}:"ellipse"===e.clipPath?{...a}:n?{...a,clipDef:mi(n)}:{...a}}(e,t.states.default)))};if("text"===t.type)return{...t,_v:4,states:xe(t.states,gi,fi)};if("video"===t.type)return{...t,_v:4,states:xe(t.states,gi,fi)};if("group"===t.type)return{...t,_v:4,states:xe(t.states,gi,fi)};if("audio"===t.type)return{...t,_v:4,states:xe(t.states,gi,fi)};throw new Error("Internal error: should be unreachable")}const xi=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),hi=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),ji=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:hi.default({value:1,unit:"px"})}),vi=r.z.object({assetId:r.z.string().optional(),color:r.z.string().optional(),opacity:r.z.number().min(0).max(1).default(1)}),Ii=vi.extend({type:r.z.literal("color"),color:r.z.string().default("#e4e4e4")}),ki=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),Si=vi.extend({type:r.z.literal("image"),assetId:r.z.string(),crop:ki.default({width:1,height:1,left:0,top:0})}),wi=vi.extend({type:r.z.literal("none")}),Ri=r.z.discriminatedUnion("type",[Ii,Si,wi]),Pi=r.z.discriminatedUnion("type",[Ii,wi]),Vi=r.z.object({top:hi.default({value:0,unit:"px"}),left:hi.default({value:0,unit:"px"}),bottom:hi.default({value:0,unit:"px"}),right:hi.default({value:0,unit:"px"})}),_i=r.z.object({type:r.z.literal("rectangle"),borderRadius:r.z.object({topLeft:r.z.number(),topRight:r.z.number(),bottomRight:r.z.number(),bottomLeft:r.z.number()}).optional()}),Ui=r.z.object({type:r.z.literal("ellipse")}),Li=r.z.object({type:r.z.literal("star"),sidePairs:r.z.number().min(3),innerRadius:r.z.number().min(.1).max(1)}),Ci=r.z.object({type:r.z.literal("cloud")}),Oi=r.z.object({type:r.z.literal("plus"),stroke:r.z.number().min(.01).max(1)}),Ei=r.z.object({type:r.z.literal("triangle")}),Xi=r.z.object({type:r.z.literal("bookmark"),cutoutInset:r.z.number().min(0).max(.8)}),Fi=r.z.object({type:r.z.literal("chevron"),outsideCornerXCoords:r.z.number().min(.7).max(1),insideCenterXCoord:r.z.number().min(0).max(.3)}),Ai=r.z.object({type:r.z.literal("octagon")}),Ti=r.z.object({type:r.z.literal("parallelogram"),shear:r.z.number().min(0).max(1)}),Di=r.z.discriminatedUnion("type",[Xi,Fi,Ci,Ui,Ai,Oi,_i,Li,Ei,Ti]),Ni=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),qi=Ni.extend({x:hi.default({value:0,unit:"px"}),y:hi.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:hi.default({value:100,unit:"%"}),height:hi.default({value:100,unit:"%"}),padding:Vi,fill:Ri,overlay:Pi,aspectRatioLocked:r.z.boolean(),border:ji,clipDef:Di.default({type:"rectangle"}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1),authoringAspectRatioCropLock:r.z.enum(["freeform","preset","none"])}),Bi=t=>r.z.intersection(Ni,t.partial()),Yi=t=>r.z.intersection(r.z.object({default:t}),r.z.record(Bi(t))),Mi=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:Yi(t),assets:r.z.record(xi).default({}).optional(),removed:r.z.boolean().default(!1),_v:r.z.literal(5)}),$i=(Bi(qi),r.z.object({default:r.z.string()})),Gi=qi.extend({audioSources:$i}),Hi=Mi(Gi).extend({type:r.z.literal("audio")}),Ji=(Bi(Gi),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional(),state:r.z.string(),visible:r.z.boolean()})),Ki=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:r.z.string().optional()}),Qi=Ki.extend({action:r.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:r.z.string()}),Wi=Ki.extend({action:r.z.literal("changeState"),targetId:r.z.string(),targetState:r.z.string().default("default")}),Zi=Ki.extend({action:r.z.literal("changeVisibility"),targetId:r.z.string(),targetVisibility:r.z.boolean()}),tn=r.z.discriminatedUnion("action",[Wi,Zi,Qi]),en=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(Ji).max(1),triggers:r.z.array(tn),fonts:r.z.record(r.z.string()).optional(),_v:r.z.literal(5)}),nn=qi.extend({children:r.z.array(Ji)}),an=Mi(nn).extend({type:r.z.literal("group")}),on=(Bi(nn),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>on))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),rn=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:on}),ln=r.z.enum(["top","middle","bottom"]),zn=qi.extend({text:rn,textVerticalAlign:ln.default("top")}),dn=Mi(zn).extend({type:r.z.literal("text")}),un=(Bi(zn),zn.extend({altText:r.z.string().nullable().default(null)})),sn=Mi(un).extend({type:r.z.literal("shape")}),cn=(Bi(un),r.z.object({default:r.z.string()})),pn=qi.extend({videoSources:cn}),mn=Mi(pn).extend({type:r.z.literal("video")}),bn=(Bi(pn),r.z.discriminatedUnion("type",[Hi,an,sn,dn,mn])),gn=r.z.object({blockuments:r.z.record(en).optional(),items:r.z.record(bn).optional()}),fn={authoringAspectRatioCropLock:"none"};function yn(t){return{...t,...fn}}function xn(t){const e=null!=t.width||null!=t.height?fn:null;return{...t,...e}}function hn(t){if("shape"===t.type)return{...t,_v:5,states:xe(t.states,yn,xn)};if("text"===t.type)return{...t,_v:5,states:xe(t.states,yn,xn)};if("video"===t.type)return{...t,_v:5,states:xe(t.states,yn,xn)};if("audio"===t.type)return{...t,_v:5,states:xe(t.states,yn,xn)};if("group"===t.type)return{...t,_v:5,states:xe(t.states,yn,xn)};throw new Error("Unexpected item type!")}const jn=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),vn=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),In=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:vn.default({value:1,unit:"px"})}),kn=r.z.object({assetId:r.z.string().optional(),color:r.z.string().optional(),opacity:r.z.number().min(0).max(1).default(1)}),Sn=kn.extend({type:r.z.literal("color"),color:r.z.string().default("#e4e4e4")}),wn=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),Rn=kn.extend({type:r.z.literal("image"),assetId:r.z.string(),crop:wn.default({width:1,height:1,left:0,top:0})}),Pn=kn.extend({type:r.z.literal("none")}),Vn=r.z.discriminatedUnion("type",[Sn,Rn,Pn]),_n=r.z.discriminatedUnion("type",[Sn,Pn]),Un=r.z.object({top:vn.default({value:0,unit:"px"}),left:vn.default({value:0,unit:"px"}),bottom:vn.default({value:0,unit:"px"}),right:vn.default({value:0,unit:"px"})}),Ln=r.z.object({type:r.z.literal("rectangle"),borderRadius:r.z.object({topLeft:r.z.number(),topRight:r.z.number(),bottomRight:r.z.number(),bottomLeft:r.z.number()}).optional()}),Cn=r.z.object({type:r.z.literal("ellipse")}),On=r.z.object({type:r.z.literal("star"),sidePairs:r.z.number().min(3),innerRadius:r.z.number().min(.1).max(1)}),En=r.z.object({type:r.z.literal("cloud")}),Xn=r.z.object({type:r.z.literal("plus"),stroke:r.z.number().min(.01).max(1)}),Fn=r.z.object({type:r.z.literal("triangle"),topVertex:r.z.number().min(0).max(1).optional()}),An=r.z.object({type:r.z.literal("bookmark"),cutoutInset:r.z.number().min(0).max(.8)}),Tn=r.z.object({type:r.z.literal("chevron"),outsideCornerXCoords:r.z.number().min(.7).max(1),insideCenterXCoord:r.z.number().min(0).max(.3)}),Dn=r.z.object({type:r.z.literal("octagon")}),Nn=r.z.object({type:r.z.literal("parallelogram"),shear:r.z.number().min(0).max(1)}),qn=r.z.object({type:r.z.literal("shield")}),Bn=r.z.object({type:r.z.literal("speechBubble")}),Yn=r.z.object({type:r.z.literal("arrow"),thickness:r.z.number().min(.1).max(.5),headLength:r.z.number().min(.1).max(.9)}),Mn=r.z.discriminatedUnion("type",[An,Tn,En,Cn,Dn,Xn,Ln,On,Fn,Nn,qn,Bn,Yn]),$n=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),Gn=$n.extend({x:vn.default({value:0,unit:"px"}),y:vn.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:vn.default({value:100,unit:"%"}),height:vn.default({value:100,unit:"%"}),padding:Un,fill:Vn,overlay:_n,aspectRatioLocked:r.z.boolean(),border:In,clipDef:Mn.default({type:"rectangle"}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1),authoringAspectRatioCropLock:r.z.enum(["freeform","preset","none"])}),Hn=t=>r.z.intersection($n,t.partial()),Jn=t=>r.z.intersection(r.z.object({default:t}),r.z.record(Hn(t))),Kn=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:Jn(t),assets:r.z.record(jn).default({}).optional(),removed:r.z.boolean().default(!1),_v:r.z.literal(6)}),Qn=(Hn(Gn),r.z.object({default:r.z.string()})),Wn=Gn.extend({audioSources:Qn}),Zn=Kn(Wn).extend({type:r.z.literal("audio")}),ta=(Hn(Wn),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional(),state:r.z.string(),visible:r.z.boolean()})),ea=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:r.z.string().optional()}),ia=ea.extend({action:r.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:r.z.string()}),na=ea.extend({action:r.z.literal("changeState"),targetId:r.z.string(),targetState:r.z.string().default("default")}),aa=ea.extend({action:r.z.literal("changeVisibility"),targetId:r.z.string(),targetVisibility:r.z.boolean()}),oa=r.z.discriminatedUnion("action",[na,aa,ia]),ra=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(ta).max(1),triggers:r.z.array(oa),fonts:r.z.record(r.z.string()).optional(),_v:r.z.literal(6)}),la=Gn.extend({children:r.z.array(ta)}),za=Kn(la).extend({type:r.z.literal("group")}),da=(Hn(la),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>da))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),ua=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:da}),sa=r.z.enum(["top","middle","bottom"]),ca=r.z.object({top:r.z.number(),left:r.z.number(),bottom:r.z.number(),right:r.z.number()}),pa=Gn.extend({text:ua,textVerticalAlign:sa.default("top"),textPadding:ca}),ma=Kn(pa).extend({type:r.z.literal("text")}),ba=(Hn(pa),pa.extend({altText:r.z.string().nullable().default(null)})),ga=Kn(ba).extend({type:r.z.literal("shape")}),fa=(Hn(ba),r.z.object({default:r.z.string()})),ya=Gn.extend({videoSources:fa}),xa=Kn(ya).extend({type:r.z.literal("video")}),ha=(Hn(ya),r.z.discriminatedUnion("type",[Zn,za,ga,ma,xa])),ja=r.z.object({blockuments:r.z.record(ra).optional(),items:r.z.record(ha).optional()});var va=i(6370);function Ia(t){return"text"===t.type?{...t,_v:6,states:xe(t.states,(t=>({...t,textPadding:va.un})),(t=>t))}:"shape"===t.type?{...t,_v:6,states:xe(t.states,(t=>({...t,textPadding:va.Mw})),(t=>t))}:{...t,_v:6}}const ka=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),Sa=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),wa=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:Sa.default({value:1,unit:"px"})}),Ra=r.z.object({assetId:r.z.string().optional(),color:r.z.string().optional(),opacity:r.z.number().min(0).max(1).default(1)}),Pa=Ra.extend({type:r.z.literal("color"),color:r.z.string().default("#e4e4e4")}),Va=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),_a=Ra.extend({type:r.z.literal("image"),assetId:r.z.string(),crop:Va.default({width:1,height:1,left:0,top:0})}),Ua=Ra.extend({type:r.z.literal("none")}),La=r.z.discriminatedUnion("type",[Pa,_a,Ua]),Ca=r.z.discriminatedUnion("type",[Pa,Ua]),Oa=r.z.object({top:Sa.default({value:0,unit:"px"}),left:Sa.default({value:0,unit:"px"}),bottom:Sa.default({value:0,unit:"px"}),right:Sa.default({value:0,unit:"px"})}),Ea=r.z.object({type:r.z.literal("rectangle"),borderRadius:r.z.object({topLeft:r.z.number(),topRight:r.z.number(),bottomRight:r.z.number(),bottomLeft:r.z.number()}).optional()}),Xa=r.z.object({type:r.z.literal("ellipse")}),Fa=r.z.object({type:r.z.literal("star"),sidePairs:r.z.number().min(3),innerRadius:r.z.number().min(.1).max(1)}),Aa=r.z.object({type:r.z.literal("cloud")}),Ta=r.z.object({type:r.z.literal("plus"),stroke:r.z.number().min(.01).max(1)}),Da=r.z.object({type:r.z.literal("triangle"),topVertex:r.z.number().min(0).max(1).optional()}),Na=r.z.object({type:r.z.literal("bookmark"),cutoutInset:r.z.number().min(0).max(.8)}),qa=r.z.object({type:r.z.literal("chevron"),outsideCornerXCoords:r.z.number().min(.7).max(1),insideCenterXCoord:r.z.number().min(0).max(.3)}),Ba=r.z.object({type:r.z.literal("octagon")}),Ya=r.z.object({type:r.z.literal("parallelogram"),shear:r.z.number().min(0).max(1)}),Ma=r.z.object({type:r.z.literal("shield")}),$a=r.z.object({type:r.z.literal("speechBubble")}),Ga=r.z.object({type:r.z.literal("arrow"),thickness:r.z.number().min(.1).max(.5),headLength:r.z.number().min(.1).max(.9)}),Ha=r.z.discriminatedUnion("type",[Na,qa,Aa,Xa,Ba,Ta,Ea,Fa,Da,Ya,Ma,$a,Ga]),Ja=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),Ka=Ja.extend({x:Sa.default({value:0,unit:"px"}),y:Sa.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:Sa.default({value:100,unit:"%"}),height:Sa.default({value:100,unit:"%"}),padding:Oa,fill:La,overlay:Ca,aspectRatioLocked:r.z.boolean(),border:wa,clipDef:Ha.default({type:"rectangle"}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1),authoringAspectRatioCropLock:r.z.enum(["freeform","preset","none"])}),Qa=t=>r.z.intersection(Ja,t.partial()),Wa=t=>r.z.intersection(r.z.object({default:t}),r.z.record(Qa(t))),Za=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:Wa(t),assets:r.z.record(ka).default({}).optional(),removed:r.z.boolean().default(!1),_v:r.z.literal(7)}),to=(Qa(Ka),r.z.object({default:r.z.string()})),eo=Ka.extend({audioSources:to}),io=Za(eo).extend({type:r.z.literal("audio")}),no=(Qa(eo),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional(),state:r.z.string(),visible:r.z.boolean()})),ao=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:r.z.string().optional()}),oo=ao.extend({action:r.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:r.z.string()}),ro=ao.extend({action:r.z.literal("changeState"),targetId:r.z.string(),targetState:r.z.string().default("default")}),lo=ao.extend({action:r.z.literal("changeVisibility"),targetId:r.z.string(),targetVisibility:r.z.boolean()}),zo=r.z.discriminatedUnion("action",[ro,lo,oo]),uo=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(no).max(1),triggers:r.z.array(zo),fonts:r.z.record(r.z.string()).optional(),_v:r.z.literal(7)}),so=Ka.extend({children:r.z.array(no)}),co=Za(so).extend({type:r.z.literal("group")}),po=(Qa(so),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>po))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),mo=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:po}),bo=r.z.enum(["top","middle","bottom"]),go=r.z.object({top:r.z.number(),left:r.z.number(),bottom:r.z.number(),right:r.z.number()}),fo=Ka.extend({text:mo,textVerticalAlign:bo.default("top"),textPadding:go}),yo=Za(fo).extend({type:r.z.literal("text")}),xo=(Qa(fo),fo.extend({altText:r.z.string().nullable().default(null)})),ho=Za(xo).extend({type:r.z.literal("shape")}),jo=(Qa(xo),r.z.object({default:r.z.string()})),vo=Ka.extend({videoSources:jo}),Io=Za(vo).extend({type:r.z.literal("video")}),ko=(Qa(vo),r.z.discriminatedUnion("type",[io,co,ho,yo,Io])),So=r.z.object({blockuments:r.z.record(uo).optional(),items:r.z.record(ko).optional()});function wo(t,e){const i=e.width?.value??t.width.value,n=i<=100?8:i>300?32:16;return{top:16,left:n,bottom:16,right:n}}function Ro(t){return"shape"===t.type?{...t,states:(e=t.states,xe(e,(t=>({...t,textPadding:wo(t,t)})),(t=>t.textPadding||t.width?{...t,textPadding:wo(e.default,t)}:t))),_v:7}:{...t,_v:7};var e}const Po=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),Vo=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),_o=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:Vo.default({value:1,unit:"px"})}),Uo=r.z.object({assetId:r.z.string().optional(),color:r.z.string().optional(),opacity:r.z.number().min(0).max(1).default(1)}),Lo=Uo.extend({type:r.z.literal("color"),color:r.z.string().default("#e4e4e4")}),Co=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),Oo=Uo.extend({type:r.z.literal("image"),assetId:r.z.string(),crop:Co.default({width:1,height:1,left:0,top:0})}),Eo=Uo.extend({type:r.z.literal("none")}),Xo=r.z.discriminatedUnion("type",[Lo,Oo,Eo]),Fo=r.z.discriminatedUnion("type",[Lo,Eo]),Ao=r.z.object({top:Vo.default({value:0,unit:"px"}),left:Vo.default({value:0,unit:"px"}),bottom:Vo.default({value:0,unit:"px"}),right:Vo.default({value:0,unit:"px"})}),To=r.z.object({type:r.z.literal("rectangle"),borderRadius:r.z.object({topLeft:r.z.number(),topRight:r.z.number(),bottomRight:r.z.number(),bottomLeft:r.z.number()}).optional()}),Do=r.z.object({type:r.z.literal("ellipse")}),No=r.z.object({type:r.z.literal("star"),sidePairs:r.z.number().min(3),innerRadius:r.z.number().min(.1).max(1)}),qo=r.z.object({type:r.z.literal("cloud")}),Bo=r.z.object({type:r.z.literal("plus"),stroke:r.z.number().min(.01).max(1)}),Yo=r.z.object({type:r.z.literal("triangle"),topVertex:r.z.number().min(0).max(1).optional()}),Mo=r.z.object({type:r.z.literal("bookmark"),cutoutInset:r.z.number().min(0).max(.8)}),$o=r.z.object({type:r.z.literal("chevron"),outsideCornerXCoords:r.z.number().min(.7).max(1),insideCenterXCoord:r.z.number().min(0).max(.3)}),Go=r.z.object({type:r.z.literal("octagon")}),Ho=r.z.object({type:r.z.literal("parallelogram"),shear:r.z.number().min(0).max(1)}),Jo=r.z.object({type:r.z.literal("shield")}),Ko=r.z.object({type:r.z.literal("speechBubble")}),Qo=r.z.object({type:r.z.literal("arrow"),thickness:r.z.number().min(.1).max(.5),headLength:r.z.number().min(.1).max(.9)}),Wo=r.z.discriminatedUnion("type",[Mo,$o,qo,Do,Go,Bo,To,No,Yo,Ho,Jo,Ko,Qo]),Zo=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),tr=Zo.extend({x:Vo.default({value:0,unit:"px"}),y:Vo.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:Vo.default({value:100,unit:"%"}),height:Vo.default({value:100,unit:"%"}),padding:Ao,fill:Xo,overlay:Fo,aspectRatioLocked:r.z.boolean(),border:_o,clipDef:Wo.default({type:"rectangle"}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1),authoringAspectRatioCropLock:r.z.enum(["freeform","preset","none"])}),er=t=>r.z.intersection(Zo,t.partial()),ir=t=>r.z.intersection(r.z.object({default:t}),r.z.record(er(t))),nr=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:ir(t),assets:r.z.record(Po).default({}).optional(),removed:r.z.boolean().default(!1),_v:r.z.literal(8)}),ar=(er(tr),r.z.object({default:r.z.string()})),or=tr.extend({audioSources:ar}),rr=nr(or).extend({type:r.z.literal("audio")}),lr=(er(or),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional(),state:r.z.string(),visible:r.z.boolean()})),zr=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:r.z.string().optional()}),dr=zr.extend({action:r.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:r.z.string()}),ur=zr.extend({action:r.z.literal("changeState"),targetId:r.z.string(),targetState:r.z.string().default("default")}),sr=zr.extend({action:r.z.literal("changeVisibility"),targetId:r.z.string(),targetVisibility:r.z.boolean()}),cr=r.z.discriminatedUnion("action",[ur,sr,dr]),pr=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(lr).max(1),triggers:r.z.array(cr),fonts:r.z.record(r.z.string()).optional(),_v:r.z.literal(8)}),mr=tr.extend({children:r.z.array(lr)}),br=nr(mr).extend({type:r.z.literal("group")}),gr=(er(mr),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>gr))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),fr=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:gr}),yr=r.z.enum(["top","middle","bottom"]),xr=r.z.object({top:r.z.number(),left:r.z.number(),bottom:r.z.number(),right:r.z.number()}),hr=tr.extend({text:fr,textVerticalAlign:yr.default("top"),textPadding:xr}),jr=nr(hr).extend({type:r.z.literal("text")}),vr=(er(hr),hr.extend({altText:r.z.string().nullable().default(null)})),Ir=nr(vr).extend({type:r.z.literal("shape")}),kr=(er(vr),r.z.object({default:r.z.string()})),Sr=tr.extend({videoSources:kr}),wr=nr(Sr).extend({type:r.z.literal("video")}),Rr=(er(Sr),r.z.discriminatedUnion("type",[rr,br,Ir,jr,wr])),Pr=r.z.object({blockuments:r.z.record(pr).optional(),items:r.z.record(Rr).optional()});function Vr(t){return{...t,_v:8,assets:ye(t.assets??{},(t=>({...t,path:`mondrian/assets/${t.path}`})))}}const _r=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),Ur=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),Lr=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:Ur.default({value:1,unit:"px"})}),Cr=r.z.object({assetId:r.z.string().optional(),color:r.z.string().optional(),opacity:r.z.number().min(0).max(1).default(1)}),Or=Cr.extend({type:r.z.literal("color"),color:r.z.string().default("#e4e4e4")}),Er=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),Xr=Cr.extend({type:r.z.literal("image"),assetId:r.z.string(),crop:Er.default({width:1,height:1,left:0,top:0})}),Fr=Cr.extend({type:r.z.literal("none")}),Ar=r.z.discriminatedUnion("type",[Or,Xr,Fr]),Tr=r.z.discriminatedUnion("type",[Or,Fr]),Dr=r.z.object({top:Ur.default({value:0,unit:"px"}),left:Ur.default({value:0,unit:"px"}),bottom:Ur.default({value:0,unit:"px"}),right:Ur.default({value:0,unit:"px"})}),Nr=r.z.object({type:r.z.literal("rectangle"),borderRadius:r.z.object({topLeft:r.z.number(),topRight:r.z.number(),bottomRight:r.z.number(),bottomLeft:r.z.number()}).optional()}),qr=r.z.object({type:r.z.literal("ellipse")}),Br=r.z.object({type:r.z.literal("star"),sidePairs:r.z.number().min(3),innerRadius:r.z.number().min(.1).max(1)}),Yr=r.z.object({type:r.z.literal("cloud")}),Mr=r.z.object({type:r.z.literal("plus"),stroke:r.z.number().min(.01).max(1)}),$r=r.z.object({type:r.z.literal("triangle"),topVertex:r.z.number().min(0).max(1).optional()}),Gr=r.z.object({type:r.z.literal("bookmark"),cutoutInset:r.z.number().min(0).max(.8)}),Hr=r.z.object({type:r.z.literal("chevron"),outsideCornerXCoords:r.z.number().min(.7).max(1),insideCenterXCoord:r.z.number().min(0).max(.3)}),Jr=r.z.object({type:r.z.literal("octagon")}),Kr=r.z.object({type:r.z.literal("parallelogram"),shear:r.z.number().min(0).max(1)}),Qr=r.z.object({type:r.z.literal("shield")}),Wr=r.z.object({type:r.z.literal("speechBubble")}),Zr=r.z.object({type:r.z.literal("arrow"),thickness:r.z.number().min(.1).max(.5),headLength:r.z.number().min(.1).max(.9)}),tl=r.z.discriminatedUnion("type",[Gr,Hr,Yr,qr,Jr,Mr,Nr,Br,$r,Kr,Qr,Wr,Zr]),el=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),il=el.extend({x:Ur.default({value:0,unit:"px"}),y:Ur.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:Ur.default({value:100,unit:"%"}),height:Ur.default({value:100,unit:"%"}),padding:Dr,fill:Ar,overlay:Tr,aspectRatioLocked:r.z.boolean(),border:Lr,clipDef:tl.default({type:"rectangle"}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1),authoringAspectRatioCropLock:r.z.enum(["freeform","preset","none"])}),nl=t=>r.z.intersection(el,t.partial()),al=t=>r.z.intersection(r.z.object({default:t}),r.z.record(nl(t))),ol=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:al(t),assets:r.z.record(_r).default({}).optional(),removed:r.z.boolean().default(!1),_v:r.z.literal(9)}),rl=(nl(il),r.z.object({default:r.z.string()})),ll=il.extend({audioSources:rl}),zl=ol(ll).extend({type:r.z.literal("audio")}),dl=(nl(ll),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional()})),ul=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:r.z.string().optional()}),sl=ul.extend({action:r.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:r.z.string()}),cl=ul.extend({action:r.z.literal("changeState"),targetId:r.z.string(),targetState:r.z.string().default("default")}),pl=ul.extend({action:r.z.literal("changeVisibility"),targetId:r.z.string(),targetVisibility:r.z.boolean()}),ml=r.z.discriminatedUnion("action",[cl,pl,sl]),bl=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(dl).min(0).max(1),triggers:r.z.array(ml),fonts:r.z.record(r.z.string()).optional(),_v:r.z.literal(9)}),gl=il.extend({_groupBrand:r.z.never().optional()}),fl=ol(gl).extend({type:r.z.literal("group"),children:r.z.array(dl)}),yl=(nl(gl),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>yl))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),xl=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:yl}),hl=r.z.enum(["top","middle","bottom"]),jl=r.z.object({top:r.z.number(),left:r.z.number(),bottom:r.z.number(),right:r.z.number()}),vl=il.extend({text:xl,textVerticalAlign:hl.default("top"),textPadding:jl}),Il=ol(vl).extend({type:r.z.literal("text")}),kl=(nl(vl),vl.extend({altText:r.z.string().nullable().default(null)})),Sl=ol(kl).extend({type:r.z.literal("shape")}),wl=(nl(kl),r.z.object({default:r.z.string()})),Rl=il.extend({videoSources:wl}),Pl=ol(Rl).extend({type:r.z.literal("video")}),Vl=(nl(Rl),r.z.discriminatedUnion("type",[zl,fl,Sl,Il,Pl])),_l=r.z.object({blockuments:r.z.record(bl).optional(),items:r.z.record(Vl).optional()});function Ul(t){return{...t,_v:9,children:t.children.map((({id:t,clonedFromId:e})=>({id:t,clonedFromId:e})))}}function Ll(t){return"group"===t.type?function(t){const e=new Map,{default:i,...n}=t.states,a=[i,...Object.values(n)];for(const t of a)if(t.children)for(const{id:i,clonedFromId:n}of t.children)e.has(i)||e.set(i,{id:i,clonedFromId:n});return{...t,_v:9,children:[...e.values()],states:xe(t.states,(({children:t,...e})=>e),(({children:t,...e})=>e))}}(t):{...t,_v:9}}const Cl=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),Ol=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),El=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:Ol.default({value:1,unit:"px"})}),Xl=r.z.object({assetId:r.z.string().optional(),color:r.z.string().optional(),opacity:r.z.number().min(0).max(1).default(1)}),Fl=Xl.extend({type:r.z.literal("color"),color:r.z.string().default("#e4e4e4")}),Al=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),Tl=Xl.extend({type:r.z.literal("image"),assetId:r.z.string(),crop:Al.default({width:1,height:1,left:0,top:0})}),Dl=Xl.extend({type:r.z.literal("none")}),Nl=r.z.discriminatedUnion("type",[Fl,Tl,Dl]),ql=r.z.discriminatedUnion("type",[Fl,Dl]),Bl=r.z.object({top:Ol.default({value:0,unit:"px"}),left:Ol.default({value:0,unit:"px"}),bottom:Ol.default({value:0,unit:"px"}),right:Ol.default({value:0,unit:"px"})}),Yl=r.z.object({type:r.z.literal("rectangle"),borderRadius:r.z.object({topLeft:r.z.number(),topRight:r.z.number(),bottomRight:r.z.number(),bottomLeft:r.z.number()}).optional()}),Ml=r.z.object({type:r.z.literal("ellipse")}),$l=r.z.object({type:r.z.literal("star"),sidePairs:r.z.number().min(3),innerRadius:r.z.number().min(.1).max(1)}),Gl=r.z.object({type:r.z.literal("cloud")}),Hl=r.z.object({type:r.z.literal("plus"),stroke:r.z.number().min(.01).max(1)}),Jl=r.z.object({type:r.z.literal("triangle"),topVertex:r.z.number().min(0).max(1).optional()}),Kl=r.z.object({type:r.z.literal("bookmark"),cutoutInset:r.z.number().min(0).max(.8)}),Ql=r.z.object({type:r.z.literal("chevron"),outsideCornerXCoords:r.z.number().min(.7).max(1),insideCenterXCoord:r.z.number().min(0).max(.3)}),Wl=r.z.object({type:r.z.literal("octagon")}),Zl=r.z.object({type:r.z.literal("parallelogram"),shear:r.z.number().min(0).max(1)}),tz=r.z.object({type:r.z.literal("shield")}),ez=r.z.object({type:r.z.literal("speechBubble")}),iz=r.z.object({type:r.z.literal("arrow"),thickness:r.z.number().min(.1).max(.5),headLength:r.z.number().min(.1).max(.9)}),nz=r.z.discriminatedUnion("type",[Kl,Ql,Gl,Ml,Wl,Hl,Yl,$l,Jl,Zl,tz,ez,iz]),az=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),oz=az.extend({x:Ol.default({value:0,unit:"px"}),y:Ol.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:Ol.default({value:100,unit:"%"}),height:Ol.default({value:100,unit:"%"}),padding:Bl,fill:Nl,overlay:ql,aspectRatioLocked:r.z.boolean(),border:El,clipDef:nz.default({type:"rectangle"}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1),authoringAspectRatioCropLock:r.z.enum(["freeform","preset","none"])}),rz=t=>r.z.intersection(az,t.partial()),lz=t=>r.z.intersection(r.z.object({default:t}),r.z.record(rz(t))),zz=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:lz(t),assets:r.z.record(Cl).default({}).optional(),removed:r.z.boolean().default(!1),_v:r.z.literal(10)}),dz=(rz(oz),r.z.object({default:r.z.string()})),uz=oz.extend({audioSources:dz}),sz=zz(uz).extend({type:r.z.literal("audio")}),cz=(rz(uz),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional()})),pz=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:r.z.string().optional()}),mz=pz.extend({action:r.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:r.z.string()}),bz=pz.extend({action:r.z.literal("changeState"),targetId:r.z.string(),targetState:r.z.string().default("default")}),gz=pz.extend({action:r.z.literal("changeVisibility"),targetId:r.z.string(),targetVisibility:r.z.boolean()}),fz=r.z.discriminatedUnion("action",[bz,gz,mz]),yz=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(cz).min(0).max(1),triggers:r.z.array(fz),fonts:r.z.record(r.z.string()).optional(),_v:r.z.literal(10)}),xz=r.z.object({x:r.z.number(),y:r.z.number()}),hz=r.z.object({applied:r.z.literal(!1)}),jz=r.z.object({applied:r.z.literal(!0),offset:xz,blur:r.z.number().min(0),spread:r.z.number().min(0),color:r.z.string(),opacity:r.z.number().min(0).max(1)}),vz=r.z.discriminatedUnion("applied",[hz,jz]),Iz=oz.extend({_groupBrand:r.z.never().optional()}),kz=zz(Iz).extend({type:r.z.literal("group"),children:r.z.array(cz)}),Sz=(rz(Iz),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>Sz))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),wz=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:Sz}),Rz=r.z.enum(["top","middle","bottom"]),Pz=r.z.object({top:r.z.number(),left:r.z.number(),bottom:r.z.number(),right:r.z.number()}),Vz=oz.extend({text:wz,textVerticalAlign:Rz.default("top"),textPadding:Pz}),_z=zz(Vz).extend({type:r.z.literal("text")}),Uz=(rz(Vz),Vz.extend({altText:r.z.string().nullable().default(null),dropShadow:vz})),Lz=zz(Uz).extend({type:r.z.literal("shape")}),Cz=(rz(Uz),r.z.object({default:r.z.string()})),Oz=oz.extend({videoSources:Cz}),Ez=zz(Oz).extend({type:r.z.literal("video")}),Xz=(rz(Oz),r.z.discriminatedUnion("type",[sz,kz,Lz,_z,Ez])),Fz=r.z.object({blockuments:r.z.record(yz).optional(),items:r.z.record(Xz).optional()});function Az(t){return"shape"===t.type?{...t,_v:10,states:xe(t.states,(t=>({...t,dropShadow:{applied:!1}})),(t=>t))}:{...t,_v:10}}const Tz=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),Dz=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),Nz=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:Dz.default({value:1,unit:"px"})}),qz=r.z.object({assetId:r.z.string().optional(),color:r.z.string().optional(),opacity:r.z.number().min(0).max(1).default(1)}),Bz=qz.extend({type:r.z.literal("color"),color:r.z.string().default("#e4e4e4")}),Yz=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),Mz=qz.extend({type:r.z.literal("image"),assetId:r.z.string(),crop:Yz.default({width:1,height:1,left:0,top:0})}),$z=qz.extend({type:r.z.literal("none")}),Gz=r.z.discriminatedUnion("type",[Bz,Mz,$z]),Hz=r.z.discriminatedUnion("type",[Bz,$z]),Jz=r.z.object({top:Dz.default({value:0,unit:"px"}),left:Dz.default({value:0,unit:"px"}),bottom:Dz.default({value:0,unit:"px"}),right:Dz.default({value:0,unit:"px"})}),Kz=r.z.object({type:r.z.literal("rectangle"),borderRadius:r.z.object({topLeft:r.z.number(),topRight:r.z.number(),bottomRight:r.z.number(),bottomLeft:r.z.number()}).optional()}),Qz=r.z.object({type:r.z.literal("ellipse")}),Wz=r.z.object({type:r.z.literal("star"),sidePairs:r.z.number().min(3),innerRadius:r.z.number().min(.1).max(1)}),Zz=r.z.object({type:r.z.literal("cloud")}),td=r.z.object({type:r.z.literal("plus"),stroke:r.z.number().min(.01).max(1)}),ed=r.z.object({type:r.z.literal("triangle"),topVertex:r.z.number().min(0).max(1).optional()}),id=r.z.object({type:r.z.literal("bookmark"),cutoutInset:r.z.number().min(0).max(.8)}),nd=r.z.object({type:r.z.literal("chevron"),outsideCornerXCoords:r.z.number().min(.7).max(1),insideCenterXCoord:r.z.number().min(0).max(.3)}),ad=r.z.object({type:r.z.literal("octagon")}),od=r.z.object({type:r.z.literal("parallelogram"),shear:r.z.number().min(0).max(1)}),rd=r.z.object({type:r.z.literal("shield")}),ld=r.z.object({type:r.z.literal("speechBubble")}),zd=r.z.object({type:r.z.literal("arrow"),thickness:r.z.number().min(.1).max(.5),headLength:r.z.number().min(.1).max(.9)}),dd=r.z.discriminatedUnion("type",[id,nd,Zz,Qz,ad,td,Kz,Wz,ed,od,rd,ld,zd]),ud=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),sd=ud.extend({x:Dz.default({value:0,unit:"px"}),y:Dz.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:Dz.default({value:100,unit:"%"}),height:Dz.default({value:100,unit:"%"}),padding:Jz,fill:Gz,overlay:Hz,aspectRatioLocked:r.z.boolean(),border:Nz,clipDef:dd.default({type:"rectangle"}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1),authoringAspectRatioCropLock:r.z.enum(["freeform","preset","none"])}),cd=t=>r.z.intersection(ud,t.partial()),pd=t=>r.z.intersection(r.z.object({default:t}),r.z.record(cd(t))),md=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:pd(t),assets:r.z.record(Tz).default({}).optional(),removed:r.z.boolean().default(!1),_v:r.z.literal(11)}),bd=(cd(sd),r.z.object({default:r.z.string()})),gd=sd.extend({audioSources:bd}),fd=md(gd).extend({type:r.z.literal("audio")}),yd=(cd(gd),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional()})),xd=r.z.object({type:r.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:r.z.array(r.z.string())}),hd=r.z.object({type:r.z.literal("changeState"),targetId:r.z.tuple([r.z.string()]),targetState:r.z.string().default("default")}),jd=r.z.object({type:r.z.literal("changeVisibility"),targetId:r.z.array(r.z.string()),targetVisibility:r.z.boolean()}),vd=r.z.discriminatedUnion("type",[xd,hd,jd]),Id=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:r.z.string().optional(),actions:r.z.array(vd)}),kd=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(yd).min(0).max(1),triggers:r.z.array(Id),fonts:r.z.record(r.z.string()).optional(),_v:r.z.literal(11)}),Sd=r.z.object({x:r.z.number(),y:r.z.number()}),wd=r.z.object({applied:r.z.literal(!1)}),Rd=r.z.object({applied:r.z.literal(!0),offset:Sd,blur:r.z.number().min(0),spread:r.z.number().min(0),color:r.z.string(),opacity:r.z.number().min(0).max(1)}),Pd=r.z.discriminatedUnion("applied",[wd,Rd]),Vd=sd.extend({_groupBrand:r.z.never().optional()}),_d=md(Vd).extend({type:r.z.literal("group"),children:r.z.array(yd)}),Ud=(cd(Vd),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>Ud))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),Ld=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:Ud}),Cd=r.z.enum(["top","middle","bottom"]),Od=r.z.object({top:r.z.number(),left:r.z.number(),bottom:r.z.number(),right:r.z.number()}),Ed=sd.extend({text:Ld,textVerticalAlign:Cd.default("top"),textPadding:Od}),Xd=md(Ed).extend({type:r.z.literal("text")}),Fd=(cd(Ed),Ed.extend({altText:r.z.string().nullable().default(null),dropShadow:Pd})),Ad=md(Fd).extend({type:r.z.literal("shape")}),Td=(cd(Fd),r.z.object({default:r.z.string()})),Dd=sd.extend({videoSources:Td}),Nd=md(Dd).extend({type:r.z.literal("video")}),qd=(cd(Dd),r.z.discriminatedUnion("type",[fd,_d,Ad,Xd,Nd])),Bd=r.z.object({blockuments:r.z.record(kd).optional(),items:r.z.record(qd).optional()});function Yd(t){switch(t.action){case"changeState":return{type:t.action,targetId:[t.targetId],targetState:t.targetState};case"changeVisibility":return{type:t.action,targetId:[t.targetId],targetVisibility:t.targetVisibility};default:return{type:t.action,targetId:[t.targetId]}}}function Md(t){return{...t,triggers:t.triggers.map((t=>({id:t.id,event:t.event,sourceId:t.sourceId,actions:[Yd(t)]}))),_v:11}}function $d(t){return{...t,_v:11}}const Gd=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),Hd=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),Jd=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:Hd.default({value:1,unit:"px"})}),Kd=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),Qd=r.z.object({opacity:r.z.number().min(0).max(1).default(1)}),Wd=Qd.extend({color:r.z.string().optional()}),Zd=Qd.extend({assetId:r.z.string().optional(),crop:Kd.default({width:1,height:1,left:0,top:0})}),tu=r.z.enum(["color","image"]),eu=r.z.intersection(r.z.intersection(Wd,Zd),r.z.object({type:tu})),iu=Wd.extend({type:r.z.literal("color")}),nu=r.z.object({top:Hd.default({value:0,unit:"px"}),left:Hd.default({value:0,unit:"px"}),bottom:Hd.default({value:0,unit:"px"}),right:Hd.default({value:0,unit:"px"})}),au=r.z.object({type:r.z.literal("rectangle"),borderRadius:r.z.object({topLeft:r.z.number(),topRight:r.z.number(),bottomRight:r.z.number(),bottomLeft:r.z.number()}).optional()}),ou=r.z.object({type:r.z.literal("ellipse")}),ru=r.z.object({type:r.z.literal("star"),sidePairs:r.z.number().min(3),innerRadius:r.z.number().min(.1).max(1)}),lu=r.z.object({type:r.z.literal("cloud")}),zu=r.z.object({type:r.z.literal("plus"),stroke:r.z.number().min(.01).max(1)}),du=r.z.object({type:r.z.literal("triangle"),topVertex:r.z.number().min(0).max(1).optional()}),uu=r.z.object({type:r.z.literal("bookmark"),cutoutInset:r.z.number().min(0).max(.8)}),su=r.z.object({type:r.z.literal("chevron"),outsideCornerXCoords:r.z.number().min(.7).max(1),insideCenterXCoord:r.z.number().min(0).max(.3)}),cu=r.z.object({type:r.z.literal("octagon")}),pu=r.z.object({type:r.z.literal("parallelogram"),shear:r.z.number().min(0).max(1)}),mu=r.z.object({type:r.z.literal("shield")}),bu=r.z.object({type:r.z.literal("speechBubble")}),gu=r.z.object({type:r.z.literal("arrow"),thickness:r.z.number().min(.1).max(.5),headLength:r.z.number().min(.1).max(.9)}),fu=r.z.discriminatedUnion("type",[uu,su,lu,ou,cu,zu,au,ru,du,pu,mu,bu,gu]),yu=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),xu=yu.extend({x:Hd.default({value:0,unit:"px"}),y:Hd.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:Hd.default({value:100,unit:"%"}),height:Hd.default({value:100,unit:"%"}),padding:nu,fill:eu,overlay:iu,aspectRatioLocked:r.z.boolean(),border:Jd,clipDef:fu.default({type:"rectangle"}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1),authoringAspectRatioCropLock:r.z.enum(["freeform","preset","none"])}),hu=t=>r.z.intersection(yu,t.partial()),ju=t=>r.z.intersection(r.z.object({default:t}),r.z.record(hu(t))),vu=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:ju(t),assets:r.z.record(Gd).default({}),removed:r.z.boolean().default(!1),_v:r.z.literal(12)}),Iu=(hu(xu),r.z.object({default:r.z.string()})),ku=xu.extend({audioSources:Iu}),Su=vu(ku).extend({type:r.z.literal("audio")}),wu=(hu(ku),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional()})),Ru=r.z.object({type:r.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:r.z.array(r.z.string())}),Pu=r.z.object({type:r.z.literal("changeState"),targetId:r.z.tuple([r.z.string()]),targetState:r.z.string().default("default")}),Vu=r.z.object({type:r.z.literal("changeVisibility"),targetId:r.z.array(r.z.string()),targetVisibility:r.z.boolean()}),_u=r.z.discriminatedUnion("type",[Ru,Pu,Vu]),Uu=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:r.z.string().optional(),actions:r.z.array(_u)}),Lu=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(wu).min(0).max(1),triggers:r.z.array(Uu),fonts:r.z.record(r.z.string()).optional(),_v:r.z.literal(12)}),Cu=r.z.object({x:r.z.number(),y:r.z.number()}),Ou=r.z.object({applied:r.z.literal(!1)}),Eu=r.z.object({applied:r.z.literal(!0),offset:Cu,blur:r.z.number().min(0),spread:r.z.number().min(0),color:r.z.string(),opacity:r.z.number().min(0).max(1)}),Xu=r.z.discriminatedUnion("applied",[Ou,Eu]),Fu=xu.extend({_groupBrand:r.z.never().optional()}),Au=vu(Fu).extend({type:r.z.literal("group"),children:r.z.array(wu)}),Tu=(hu(Fu),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>Tu))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),Du=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:Tu}),Nu=r.z.enum(["top","middle","bottom"]),qu=r.z.object({top:r.z.number(),left:r.z.number(),bottom:r.z.number(),right:r.z.number()}),Bu=xu.extend({text:Du,textVerticalAlign:Nu.default("top"),textPadding:qu}),Yu=vu(Bu).extend({type:r.z.literal("text")}),Mu=(hu(Bu),Bu.extend({altText:r.z.string().nullable().default(null),dropShadow:Xu})),$u=vu(Mu).extend({type:r.z.literal("shape")}),Gu=(hu(Mu),r.z.object({default:r.z.string()})),Hu=xu.extend({videoSources:Gu}),Ju=vu(Hu).extend({type:r.z.literal("video")}),Ku=(hu(Hu),r.z.discriminatedUnion("type",[Su,Au,$u,Yu,Ju])),Qu=r.z.object({blockuments:r.z.record(Lu).optional(),items:r.z.record(Ku).optional()});var Wu=i(8562);const Zu={type:"color",opacity:1},ts={...Zu,crop:{height:1,width:1,top:0,left:0}};function es(t){return t&&"none"!==t.type?"color"===t.type?{...t,crop:ts.crop}:t:ts}function is(t){return{...t,_v:12}}function ns(t){return{...t,fill:es(t.fill),overlay:es(t.overlay)}}function as(t){return{...t,fill:es(t.fill),overlay:(e=t.overlay,e&&"none"!==e.type?e:Zu)};var e}function os(t){switch(t.type){case"audio":case"group":case"shape":case"text":case"video":return function(t){return t.assets[Wu.up.id]=Wu.up,t.states.default.fill.assetId||(t.states.default.fill.assetId=Wu.up.id),t}({...t,states:xe(t.states,ns,as),_v:12,assets:t.assets??{}});default:throw new Error("Unreachable")}}const rs=r.z.object({id:r.z.string(),path:r.z.string(),name:r.z.string(),width:r.z.number().optional(),height:r.z.number().optional()}),ls=r.z.object({unit:r.z.enum(["px","%","auto","fr"]),value:r.z.number()}),zs=r.z.object({applied:r.z.boolean().default(!1),type:r.z.enum(["none","fill"]).default("none"),color:r.z.string().default("#000000"),opacity:r.z.number().default(1),style:r.z.enum(["solid","dashed","dotted"]).default("solid"),width:ls.default({value:1,unit:"px"})}),ds=r.z.object({width:r.z.number(),height:r.z.number(),left:r.z.number(),top:r.z.number()}),us=r.z.object({opacity:r.z.number().min(0).max(1).default(1)}),ss=r.z.enum(["color","image"]),cs=us.extend({color:r.z.string().optional()}),ps=cs.extend({type:ss,assetId:r.z.string().optional(),crop:ds.default({width:1,height:1,left:0,top:0})}),ms=r.z.object({top:ls.default({value:0,unit:"px"}),left:ls.default({value:0,unit:"px"}),bottom:ls.default({value:0,unit:"px"}),right:ls.default({value:0,unit:"px"})}),bs=r.z.object({type:r.z.literal("rectangle"),borderRadius:r.z.object({topLeft:r.z.number(),topRight:r.z.number(),bottomRight:r.z.number(),bottomLeft:r.z.number()}).optional()}),gs=r.z.object({type:r.z.literal("ellipse")}),fs=r.z.object({type:r.z.literal("star"),sidePairs:r.z.number().min(3),innerRadius:r.z.number().min(.1).max(1)}),ys=r.z.object({type:r.z.literal("cloud")}),xs=r.z.object({type:r.z.literal("plus"),stroke:r.z.number().min(.01).max(1)}),hs=r.z.object({type:r.z.literal("triangle"),topVertex:r.z.number().min(0).max(1).optional()}),js=r.z.object({type:r.z.literal("bookmark"),cutoutInset:r.z.number().min(0).max(.8)}),vs=r.z.object({type:r.z.literal("chevron"),outsideCornerXCoords:r.z.number().min(.7).max(1),insideCenterXCoord:r.z.number().min(0).max(.3)}),Is=r.z.object({type:r.z.literal("octagon")}),ks=r.z.object({type:r.z.literal("parallelogram"),shear:r.z.number().min(0).max(1)}),Ss=r.z.object({type:r.z.literal("shield")}),ws=r.z.object({type:r.z.literal("speechBubble")}),Rs=r.z.object({type:r.z.literal("arrow"),thickness:r.z.number().min(.1).max(.5),headLength:r.z.number().min(.1).max(.9)}),Ps=r.z.discriminatedUnion("type",[js,vs,ys,gs,Is,xs,bs,fs,hs,ks,Ss,ws,Rs]),Vs=r.z.object({id:r.z.string(),name:r.z.string().max(128)}),_s=Vs.extend({x:ls.default({value:0,unit:"px"}),y:ls.default({value:0,unit:"px"}),xOffset:r.z.number().default(0),yOffset:r.z.number().default(0),position:r.z.literal("absolute").default("absolute"),width:ls.default({value:100,unit:"%"}),height:ls.default({value:100,unit:"%"}),padding:ms,fill:ps,overlay:cs,aspectRatioLocked:r.z.boolean(),border:zs,clipDef:Ps.default({type:"rectangle"}),rotation:r.z.number().default(0),flipX:r.z.boolean().default(!1),flipY:r.z.boolean().default(!1),authoringAspectRatioCropLock:r.z.enum(["freeform","preset","none"])}),Us=t=>r.z.intersection(Vs,t.partial()),Ls=t=>r.z.intersection(r.z.object({default:t}),r.z.record(Us(t))),Cs=t=>r.z.object({id:r.z.string(),blockumentId:r.z.string(),clonedFromId:r.z.string().optional(),parentId:r.z.string(),type:r.z.string(),name:r.z.string().max(128),tagName:r.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:r.z.boolean().default(!1),authoringVisible:r.z.boolean().default(!0),initialVisible:r.z.boolean().default(!0),initialState:r.z.string().default("default"),states:Ls(t),assets:r.z.record(rs).default({}),removed:r.z.boolean().default(!1),layer:r.z.string().optional(),_v:r.z.literal(13)}),Os=(Us(_s),r.z.object({default:r.z.string()})),Es=_s.extend({audioSources:Os}),Xs=Cs(Es).extend({type:r.z.literal("audio")}),Fs=(Us(Es),r.z.object({id:r.z.string(),clonedFromId:r.z.string().optional()})),As=r.z.object({type:r.z.enum(["mediaPause","mediaPlay","mediaEnd"]),targetId:r.z.array(r.z.string())}),Ts=r.z.object({type:r.z.literal("changeState"),targetId:r.z.tuple([r.z.string()]),targetState:r.z.string().default("default")}),Ds=r.z.object({type:r.z.literal("changeVisibility"),targetId:r.z.array(r.z.string()),targetVisibility:r.z.boolean()}),Ns=r.z.object({type:r.z.literal("changeLayer"),layerId:r.z.string().nullable()}),qs=r.z.discriminatedUnion("type",[As,Ts,Ds,Ns]),Bs=r.z.object({id:r.z.string(),event:r.z.enum(["click","hover","mediaPlay","mediaPause","mediaEnd"]),sourceId:r.z.string().optional(),actions:r.z.array(qs)}),Ys=r.z.object({id:r.z.string(),title:r.z.string().max(255),children:r.z.array(Fs).min(0).max(1),triggers:r.z.array(Bs),fonts:r.z.record(r.z.string()).optional(),layers:r.z.array(r.z.object({id:r.z.string(),name:r.z.string()})),_v:r.z.literal(13)}),Ms=r.z.object({x:r.z.number(),y:r.z.number()}),$s=r.z.object({applied:r.z.literal(!1)}),Gs=r.z.object({applied:r.z.literal(!0),offset:Ms,blur:r.z.number().min(0),spread:r.z.number().min(0),color:r.z.string(),opacity:r.z.number().min(0).max(1)}),Hs=r.z.discriminatedUnion("applied",[$s,Gs]),Js=_s.extend({_groupBrand:r.z.never().optional()}),Ks=Cs(Js).extend({type:r.z.literal("group"),children:r.z.array(Fs)}),Qs=(Us(Js),r.z.intersection(r.z.object({type:r.z.string().optional(),attrs:r.z.record(r.z.any()).optional(),content:r.z.array(r.z.lazy((()=>Qs))).optional(),marks:r.z.array(r.z.intersection(r.z.object({type:r.z.string(),attrs:r.z.record(r.z.any()).optional()}),r.z.record(r.z.any()))).optional(),text:r.z.string().optional()}),r.z.record(r.z.any()))),Ws=r.z.object({id:r.z.string(),type:r.z.literal("tiptap"),json:Qs}),Zs=r.z.enum(["top","middle","bottom"]),tc=r.z.object({top:r.z.number(),left:r.z.number(),bottom:r.z.number(),right:r.z.number()}),ec=_s.extend({text:Ws,textVerticalAlign:Zs.default("top"),textPadding:tc}),ic=Cs(ec).extend({type:r.z.literal("text")}),nc=(Us(ec),ec.extend({altText:r.z.string().nullable().default(null),dropShadow:Hs})),ac=Cs(nc).extend({type:r.z.literal("shape")}),oc=(Us(nc),r.z.object({default:r.z.string()})),rc=_s.extend({videoSources:oc}),lc=Cs(rc).extend({type:r.z.literal("video")}),zc=(Us(rc),r.z.discriminatedUnion("type",[Xs,Ks,ac,ic,lc])),dc=r.z.object({blockuments:r.z.record(Ys).optional(),items:r.z.record(zc).optional()});function uc(t){return{...t,layers:[],_v:13}}function sc(t){return{...t,_v:13}}const cc=13,pc=[{version:1,upgrade:function(t){return t},InputSchema:Y,OutputSchema:Y},{version:2,upgrade:function({blockuments:t,items:e}){const i=t??{},n=Object.values(e??{}).filter((t=>"triggers"in t)),a=_t(n,"blockumentId"),o={},r={};for(const[t,e]of Object.entries(a)){const n=i[t];if(n){const t=e.flatMap((t=>(t.triggers??[]).map((e=>({...e,sourceId:t.id}))))),a={...n,triggers:t};o[a.id]=a,e.forEach((t=>{r[t.id]=Ut(t,"triggers")})),Object.entries(i).forEach((([t,e])=>{if(!(t in o)){const i={...e,triggers:[]};o[t]=i}}))}}return{blockuments:o,items:r}},InputSchema:Y,OutputSchema:Vt},{version:3,upgrade:function({blockuments:t,items:e}){return{blockuments:ye(t??{},(t=>({...t,_v:3}))),items:ye(e??{},ve)}},InputSchema:Vt,OutputSchema:fe},{version:4,upgrade:function(t){return{blockuments:ye(t.blockuments??{},(t=>({...t,_v:4}))),items:ye(t.items??{},yi)}},InputSchema:fe,OutputSchema:pi},{version:5,upgrade:function(t){return{blockuments:ye(t.blockuments??{},(t=>({...t,_v:5}))),items:ye(t.items??{},hn)}},InputSchema:pi,OutputSchema:gn},{version:6,upgrade:function(t){return{blockuments:ye(t.blockuments??{},(t=>({...t,_v:6}))),items:ye(t.items??{},Ia)}},InputSchema:gn,OutputSchema:ja},{version:7,upgrade:function(t){return{blockuments:ye(t.blockuments??{},(t=>({...t,_v:7}))),items:ye(t.items??{},Ro)}},InputSchema:ja,OutputSchema:So},{version:8,upgrade:function(t){return{blockuments:ye(t.blockuments??{},(t=>({...t,_v:8}))),items:ye(t.items??{},Vr)}},InputSchema:So,OutputSchema:Pr},{version:9,upgrade:function(t){return{blockuments:ye(t.blockuments??{},Ul),items:ye(t.items??{},Ll)}},InputSchema:Pr,OutputSchema:_l},{version:10,upgrade:function(t){return{blockuments:ye(t.blockuments??{},(t=>({...t,_v:10}))),items:ye(t.items??{},Az)}},InputSchema:_l,OutputSchema:Fz},{version:11,upgrade:function(t){return{blockuments:ye(t.blockuments??{},Md),items:ye(t.items??{},$d)}},InputSchema:Fz,OutputSchema:Bd},{version:12,upgrade:function(t){return{blockuments:ye(t.blockuments??{},is),items:ye(t.items??{},os)}},InputSchema:Bd,OutputSchema:Qu},{version:13,upgrade:function(t){return{blockuments:ye(t.blockuments??{},uc),items:ye(t.items??{},sc)}},InputSchema:Qu,OutputSchema:dc}];function mc(t){const e=yc(t),i=fc(e).OutputSchema.safeParse(t);if(i.success&&e===cc)return i.data;if(i.success)return bc(e,cc)(i.data);throw new Error("Unable to comply: no upgrade path was found",{cause:i.error})}function bc(t,e){return n(gc(t,e).map((({InputSchema:t,upgrade:e,OutputSchema:i})=>n(t.parse,e,i.parse))))}function gc(t,e){const i=a(t+1,e+1),n=pc.filter((({version:t})=>i.includes(t)));return o(n,"version")}function fc(t){const e=pc.find((e=>e.version===t));if(!e)throw new Error("No converter found for claimed version");return e}function yc(t){const e=t;let i=Object.values(e?.blockuments??{})[0]?._v??0;return 0===i&&(i=Object.values(e.blockuments).every((t=>t.triggers))?2:1),i}}}]);