"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[143],{8761:(t,e,n)=>{n.d(e,{A:()=>s});var i=n(1182),o=n.n(i),r=n(2806),a=n.n(r)()(o());a.push([t.id,".hXRin0tc .tiptap {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.hXRin0tc .tiptap :is(h1, h2) {\n  line-height: inherit;\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.hXRin0tc .tiptap :is(p, h1, h2) {\n  margin: 0;\n}\n\n.hXRin0tc .tiptap strong {\n  font-weight: bold;\n}\n\n.hXRin0tc .tiptap em {\n  font-style: italic;\n}\n\n.hXRin0tc .tiptap s {\n  text-decoration: line-through;\n}\n\n.hXRin0tc .tiptap u {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./../../packages/core/src/styles/tiptap.module.css"],names:[],mappings:"AAAA;EACE,uCAAuC;EACvC,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,0CAA0C;EAC1C,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:[".textItem :global(.tiptap) {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.textItem :global(.tiptap :is(h1, h2)) {\n  line-height: inherit;\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.textItem :global(.tiptap :is(p, h1, h2)) {\n  margin: 0;\n}\n\n.textItem :global(.tiptap strong) {\n  font-weight: bold;\n}\n\n.textItem :global(.tiptap em) {\n  font-style: italic;\n}\n\n.textItem :global(.tiptap s) {\n  text-decoration: line-through;\n}\n\n.textItem :global(.tiptap u) {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]),a.locals={textItem:"hXRin0tc"};const s=a},6143:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Bn});var i=n(6218);function o(t){(0,i.append_styles)(t,"svelte-su3qhz",".mondrian__img-1XHDzr{height:100%;width:100%}")}function r(t){let e,n;return{c(){e=(0,i.element)("div"),(0,i.attr)(e,"aria-label",n=t[0].alt),(0,i.attr)(e,"class","mondrian__img-1XHDzr"),(0,i.attr)(e,"role","img")},m(t,n){(0,i.insert)(t,e,n)},p(t,[o]){1&o&&n!==(n=t[0].alt)&&(0,i.attr)(e,"aria-label",n)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e)}}}function a(t,e,n){let{item:i}=e;return t.$$set=t=>{"item"in t&&n(0,i=t.item)},[i]}n(9763);class s extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,a,r,i.safe_not_equal,{item:0},o)}}const l=s;var d=n(2604),c=n.n(d),u=n(101),m=n.n(u),p=n(5863),_=n.n(p),g=n(3124),f=n.n(g),h=n(6896),$=n.n(h),b=n(9917),v=n.n(b),y=n(8761),w={};w.styleTagTransform=v(),w.setAttributes=f(),w.insert=_().bind(null,"head"),w.domAPI=m(),w.insertStyleElement=$(),c()(y.A,w);const x=y.A&&y.A.locals?y.A.locals:void 0;var z=n(7268);const k="isLearn";function A(t){return`assets/${t.path}`}class C{constructor(t){this.parse=t=>this.zod.parse(t),this.is=t=>this.zod.safeParse(t).success,this.assert=t=>{this.parse(t)},this.zod=t}}var I=n(6195);const S=I.z.object({name:I.z.literal("fadeInUp"),delay:I.z.number().min(0),duration:I.z.number().positive(),easing:I.z.enum(["ease","ease-in","ease-out","ease-in-out","linear","step-start","step-end"])}),E=I.z.object({id:I.z.string(),path:I.z.string(),name:I.z.string(),width:I.z.number().optional(),height:I.z.number().optional()}),R=I.z.object({unit:I.z.enum(["px","%","auto","fr"]),value:I.z.number()}),B=I.z.object({applied:I.z.boolean().default(!1),type:I.z.enum(["none","fill"]).default("none"),color:I.z.string().default("#000000"),opacity:I.z.number().default(1),style:I.z.enum(["solid","dashed","dotted"]).default("solid"),width:R.default({value:1,unit:"px"})}),M=I.z.object({assetId:I.z.string().optional(),color:I.z.string().optional(),opacity:I.z.number().min(0).max(1).default(1)}),L=M.extend({type:I.z.literal("color"),color:I.z.string().default("#e4e4e4")}),j=M.extend({type:I.z.literal("image"),assetId:I.z.string()}),F=M.extend({type:I.z.literal("none")}),P=I.z.discriminatedUnion("type",[L,j,F]),q=I.z.discriminatedUnion("type",[L,F]),H=I.z.object({id:I.z.string(),clonedFromId:I.z.string().optional(),state:I.z.string(),visible:I.z.boolean()}),N=I.z.object({top:R.default({value:0,unit:"px"}),left:R.default({value:0,unit:"px"}),bottom:R.default({value:0,unit:"px"}),right:R.default({value:0,unit:"px"})}),K=I.z.intersection(I.z.object({type:I.z.string().optional(),attrs:I.z.record(I.z.any()).optional(),content:I.z.array(I.z.lazy((()=>K))).optional(),marks:I.z.array(I.z.intersection(I.z.object({type:I.z.string(),attrs:I.z.record(I.z.any()).optional()}),I.z.record(I.z.any()))).optional(),text:I.z.string().optional()}),I.z.record(I.z.any())),D=I.z.object({id:I.z.string(),type:I.z.literal("tiptap"),json:K}),X=I.z.object({id:I.z.string(),name:I.z.string().max(128),children:I.z.array(H).optional(),text:D.optional(),textVerticalAlign:I.z.enum(["top","middle","bottom"]).default("top"),x:R.default({value:0,unit:"px"}),y:R.default({value:0,unit:"px"}),position:I.z.literal("absolute").default("absolute"),width:R.default({value:100,unit:"%"}),height:R.default({value:100,unit:"%"}),padding:N,fill:P,overlay:q,aspectRatioLocked:I.z.boolean(),clipPath:I.z.literal("ellipse").optional(),border:B,borderRadius:I.z.object({applied:I.z.boolean().default(!1),topLeft:R.default({value:0,unit:"px"}),topRight:R.default({value:0,unit:"px"}),bottomRight:R.default({value:0,unit:"px"}),bottomLeft:R.default({value:0,unit:"px"})}),entranceAnimation:S.nullable().optional(),rotation:I.z.number().default(0)}),T=X.required({children:!0}),Y=X.partial().required({id:!0,name:!0}),U=Y.required({children:!0}),O=I.z.object({id:I.z.string(),event:I.z.enum(["click","hover"])}),Z=O.extend({action:I.z.literal("changeState"),targetId:I.z.string(),targetState:I.z.string().default("default")}),V=O.extend({action:I.z.literal("changeVisibility"),targetId:I.z.string(),targetVisibility:I.z.boolean()}),Q=I.z.discriminatedUnion("action",[Z,V]),J=I.z.object({id:I.z.string(),blockumentId:I.z.string(),clonedFromId:I.z.string().optional(),parentId:I.z.string(),type:I.z.string(),name:I.z.string().max(128),tagName:I.z.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:I.z.boolean().default(!1),authoringVisible:I.z.boolean().default(!0),initialVisible:I.z.boolean().default(!0),initialState:I.z.string().default("default"),states:I.z.intersection(I.z.object({default:X}),I.z.record(Y)),triggers:I.z.array(Q),assets:I.z.record(E).default({}).optional(),removed:I.z.boolean().default(!1)}),W=I.z.object({id:I.z.string(),title:I.z.string().max(255),children:I.z.array(H).max(1)}),G=J.extend({type:I.z.literal("group"),states:I.z.intersection(I.z.object({default:X.required({children:!0})}),I.z.record(U.required({children:!0})))}),tt=J.extend({type:I.z.literal("image"),alt:I.z.string()}),et=J.extend({type:I.z.literal("shape")}),nt=J.extend({type:I.z.literal("text")}),it=I.z.discriminatedUnion("type",[G,tt,et,nt]);new C(S),new C(E),new C(J),new C(W),new C(B),new C(P),new C(M),new C(L),new C(j),new C(F),new C(q),new C(G),new C(tt),new C(it);var ot,rt;new C(H),new C(K),new C(N),new C(D),new C(et),new C(X),new C(T),new C(Y),new C(U),new C(nt),new C(Z),new C(V),new C(Q),new C(R),function(t){t.Blockuments="blockuments",t.Items="items"}(ot||(ot={})),ot.Blockuments,ot.Items,function(t){t.APP="app",t.BLOCKUMENT="blockument",t.COURSE="course"}(rt||(rt={})),n(9840);var at=n(4198),st=n(4717),lt=n(4758),dt=n(2359),ct=n(31),ut=n(2740),mt=n(9395);const pt=/([a-z%]+)\s*$/i,_t=at.YY.create({name:"textSize",addGlobalAttributes:()=>[{types:["textStyle"],attributes:{textSize:{default:14,parseHTML(t){const e=t.style.fontSize,n=parseFloat(e);if(isNaN(n))return null;const i=pt.exec(e);if(null==i)return null;switch(i[1]){case"rem":return Math.round(10*n);case"px":return Math.round(n);default:return null}},renderHTML:t=>({style:`font-size: ${t.textSize/10}rem`})}}}],addCommands:()=>({setTextSize:t=>({chain:e})=>e().setMark("textStyle",{textSize:t}).run()})}),gt=at.YY.create({name:"lineHeight",addGlobalAttributes:()=>[{types:["paragraph"],attributes:{lineHeight:{default:1.2,parseHTML(t){const e=t.style.lineHeight,n=parseFloat(e);return isNaN(n)?null:n},renderHTML:t=>({style:`line-height: ${t.lineHeight};`})}}}],addCommands:()=>({setLineHeight:t=>({commands:e})=>e.updateAttributes("paragraph",{lineHeight:t})})});st.A.configure({types:["textStyle"]});const ft=[mt.A.configure({history:!1,heading:{levels:[1,2]}}),dt.A.configure({types:["heading","paragraph"]}),ct.A,st.A,_t,gt,ut.A,lt.A],ht=((0,at._w)(ft),"hover"),$t="changeState",bt="changeVisibility";var vt=n(1120);const yt=new Map,wt={...(0,vt.writable)(yt),add:(t,e)=>(yt.has(t)||yt.set(t,function(t){let e,n,i;t.subscribe((t=>{e=t}));const o=(0,vt.writable)(e);o.subscribe((t=>{n=i??e,i=t}));const r={...o,revert(){r.set(n)},reset(){r.set(e)}};return r}(e)),yt.get(t)),get(t){if(!yt.has(t))throw new Error(`No state found for item ${t}`);return yt.get(t)},resetAll(){[...yt.values()].forEach((t=>{t.reset()}))}},xt=new Map,zt={...(0,vt.writable)(xt),add:(t,e)=>(xt.set(t,function(t){let e;t.subscribe((t=>{e=t}));const n={...(0,vt.writable)(e),show(){n.set(!0)},hide(){n.set(!1)},reset(){n.set(e)}};return n}(e)),xt.get(t)),get(t){if(!xt.has(t))throw new Error(`No visibility found for item ${t}`);return xt.get(t)},resetAll(){[...xt.values()].forEach((t=>{t.reset()}))}};function kt(t,e,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}matchMedia("(prefers-reduced-motion)");const At=new WeakMap;function Ct(t,e,n=Object.keys(t.states.default)){const i=t.states.default,o=structuredClone(t.states[e]);return n.reduce(((t,e)=>(t[e]||(t[e]=structuredClone(i[e])),t)),o)}new IntersectionObserver((t=>{for(const e of t){if(!e.isIntersecting)continue;const t=At.get(e.target);null!=t&&"paused"===t.playState&&t.play()}}),{threshold:.3});const It=({value:t,unit:e})=>{switch(e){case"auto":return"auto";case"px":return t/10+"rem";default:return(({value:t,unit:e})=>`${t}${e}`)({value:t,unit:e})}},{Map:St}=i.globals;function Et(t,e,n){const i=t.slice();return i[2]=e[n],i}function Rt(t,e){let n,o;return{key:t,first:null,c(){n=(0,i.element)("link"),(0,i.attr)(n,"rel","prefetch"),(0,i.attr)(n,"href",o=A(e[2])),(0,i.attr)(n,"as","image"),this.first=n},m(t,e){(0,i.insert)(t,n,e)},p(t,r){e=t,1&r&&o!==(o=A(e[2]))&&(0,i.attr)(n,"href",o)},d(t){t&&(0,i.detach)(n)}}}function Bt(t){let e,n=[],o=new St,r=(0,i.ensure_array_like)(t[0].values());const a=t=>t[2].id;for(let e=0;e<r.length;e+=1){let i=Et(t,r,e),s=a(i);o.set(s,n[e]=Rt(s,i))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=(0,i.empty)()},m(t,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(document.head,null);(0,i.append)(document.head,e)},p(t,[s]){1&s&&(r=(0,i.ensure_array_like)(t[0].values()),n=(0,i.update_keyed_each)(n,s,a,1,t,r,o,e.parentNode,i.destroy_block,Rt,e,Et))},i:i.noop,o:i.noop,d(t){for(let t=0;t<n.length;t+=1)n[t].d();(0,i.detach)(e)}}}function Mt(t,e,n){let i,{items:o}=e;return t.$$set=t=>{"items"in t&&n(1,o=t.items)},t.$$.update=()=>{2&t.$$.dirty&&n(0,i=new Map(o.flatMap((t=>Object.values(t.assets??{}))).map((t=>[t.id,t]))))},[i,o]}class Lt extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Mt,Bt,i.safe_not_equal,{items:1})}}const jt=Lt;function Ft(t){(0,i.append_styles)(t,"svelte-1rwqo0z",".mondrian__clipped-3iB7in{border-radius:inherit;display:flex;height:100%;inset:0;position:absolute;width:100%;z-index:-1;transition:inherit}")}function Pt(t){let e,n;const o=t[7].default,r=(0,i.create_slot)(o,t,t[6],null);return{c(){e=(0,i.element)("div"),r&&r.c(),(0,i.attr)(e,"class","mondrian__clipped-3iB7in"),(0,i.set_style)(e,"clip-path",t[0])},m(t,o){(0,i.insert)(t,e,o),r&&r.m(e,null),n=!0},p(t,[a]){r&&r.p&&(!n||64&a)&&(0,i.update_slot_base)(r,o,t,t[6],n?(0,i.get_slot_changes)(o,t[6],a,null):(0,i.get_all_dirty_from_scope)(t[6]),null),1&a&&(0,i.set_style)(e,"clip-path",t[0])},i(t){n||((0,i.transition_in)(r,t),n=!0)},o(t){(0,i.transition_out)(r,t),n=!1},d(t){t&&(0,i.detach)(e),r&&r.d(t)}}}function qt(t,e,n){let o,r,a,s,{$$slots:l={},$$scope:d}=e,{item:c}=e;const u=wt.get(c.id);return(0,i.component_subscribe)(t,u,(t=>n(5,s=t))),t.$$set=t=>{"item"in t&&n(2,c=t.item),"$$scope"in t&&n(6,d=t.$$scope)},t.$$.update=()=>{36&t.$$.dirty&&n(4,o=c.states[s]),16&t.$$.dirty&&n(3,r="ellipse"===o.clipPath),8&t.$$.dirty&&n(0,a=r?"ellipse(50% 50%)":void 0)},[a,u,c,r,o,s,d,l]}class Ht extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,qt,Pt,i.safe_not_equal,{item:2},Ft)}}const Nt=Ht;function Kt(t){(0,i.append_styles)(t,"svelte-1kxyd54",".mondrian__fill-2U2s0D{background-position:center;background-size:cover;inset:0;position:absolute;border-radius:inherit;transition:inherit}")}function Dt(t){let e;return{c(){e=(0,i.element)("div"),(0,i.attr)(e,"class","mondrian__fill-2U2s0D"),(0,i.set_style)(e,"background-color",t[1]),(0,i.set_style)(e,"background-image",t[2]),(0,i.set_style)(e,"opacity",t[0].opacity)},m(t,n){(0,i.insert)(t,e,n)},p(t,n){2&n&&(0,i.set_style)(e,"background-color",t[1]),4&n&&(0,i.set_style)(e,"background-image",t[2]),1&n&&(0,i.set_style)(e,"opacity",t[0].opacity)},d(t){t&&(0,i.detach)(e)}}}function Xt(t){let e,n=(null!=t[1]||null!=t[2])&&Dt(t);return{c(){n&&n.c(),e=(0,i.empty)()},m(t,o){n&&n.m(t,o),(0,i.insert)(t,e,o)},p(t,[i]){null!=t[1]||null!=t[2]?n?n.p(t,i):(n=Dt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),n&&n.d(t)}}}function Tt(t,e,n){let{assets:i}=e,{fill:o}=e,r=null,a=null;return t.$$set=t=>{"assets"in t&&n(3,i=t.assets),"fill"in t&&n(0,o=t.fill)},t.$$.update=()=>{if(9&t.$$.dirty)switch(o?.type){case"color":n(1,r=o.color),n(2,a=null);break;case"image":{n(1,r=null);const t=i?.[o.assetId];n(2,a=null==t?null:`url("${A(t)}")`);break}default:n(1,r=n(2,a=null))}},[o,r,a,i]}class Yt extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Tt,Xt,i.safe_not_equal,{assets:3,fill:0},Kt)}}const Ut=Yt;function Ot(t){(0,i.append_styles)(t,"svelte-a49skc","svg.mondrian__border-2HRKP_{position:absolute;pointer-events:none;z-index:-1}svg.mondrian__border-2HRKP_ path{fill:none;stroke-linecap:round}")}function Zt(t){let e,n,o,r,a;return{c(){e=(0,i.svg_element)("svg"),n=(0,i.svg_element)("path"),(0,i.attr)(n,"stroke-width",t[3]),(0,i.attr)(n,"stroke",o=t[2].color),(0,i.attr)(n,"stroke-dasharray",t[5]),(0,i.attr)(n,"d",t[4]),(0,i.attr)(e,"class","mondrian__border-2HRKP_"),(0,i.attr)(e,"viewBox",t[7]),(0,i.attr)(e,"width",r=t[0].value+t[3]),(0,i.attr)(e,"height",a=t[1].value+t[3]),(0,i.set_style)(e,"inset",t[6]),(0,i.set_style)(e,"opacity",t[2].opacity)},m(t,o){(0,i.insert)(t,e,o),(0,i.append)(e,n)},p(t,s){8&s&&(0,i.attr)(n,"stroke-width",t[3]),4&s&&o!==(o=t[2].color)&&(0,i.attr)(n,"stroke",o),32&s&&(0,i.attr)(n,"stroke-dasharray",t[5]),16&s&&(0,i.attr)(n,"d",t[4]),128&s&&(0,i.attr)(e,"viewBox",t[7]),9&s&&r!==(r=t[0].value+t[3])&&(0,i.attr)(e,"width",r),10&s&&a!==(a=t[1].value+t[3])&&(0,i.attr)(e,"height",a),64&s&&(0,i.set_style)(e,"inset",t[6]),4&s&&(0,i.set_style)(e,"opacity",t[2].opacity)},d(t){t&&(0,i.detach)(e)}}}function Vt(t){let e,n=t[2].applied&&Zt(t);return{c(){n&&n.c(),e=(0,i.empty)()},m(t,o){n&&n.m(t,o),(0,i.insert)(t,e,o)},p(t,[i]){t[2].applied?n?n.p(t,i):(n=Zt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e),n&&n.d(t)}}}const{min:Qt}=Math;function Jt(t,e,n){return t+n<=e?t:t*e/(t+n)}function Wt(t,e,n,i,o){return Qt(Jt(n,e,t),Jt(n,i,o))}function Gt(t,e,n){let i,o,r,a,s,l,d,{width:c}=e,{height:u}=e,{border:m}=e,{clipPath:p}=e,_="";return t.$$set=t=>{"width"in t&&n(0,c=t.width),"height"in t&&n(1,u=t.height),"border"in t&&n(2,m=t.border),"clipPath"in t&&n(8,p=t.clipPath)},t.$$.update=()=>{if(1&t.$$.dirty&&n(10,i=c.value),2&t.$$.dirty&&n(9,o=u.value),4&t.$$.dirty&&n(3,r=m.width.value),8&t.$$.dirty&&n(11,a=r/2),1544&t.$$.dirty&&n(7,s=`0 0 ${i+r} ${o+r}`),2048&t.$$.dirty&&n(6,l=`${-a}px auto auto ${-a}px`),3856&t.$$.dirty){if(n(4,_=`M ${a} ${a}`),"ellipse"===p)n(4,_+=` m ${i} ${o/2}`),n(4,_+=` a ${i/2} ${o/2} 0 0 1 ${-i},0`),n(4,_+=` a ${i/2} ${o/2} 0 0 1 ${i},0`);else if(p.applied){const t=p.topRight.value,e=p.bottomRight.value,r=p.bottomLeft.value,a=p.topLeft.value,s=Wt(a,i,t,o,e),l=Wt(t,o,e,i,r),d=Wt(e,i,r,o,a),c=Wt(r,o,a,i,t);n(4,_+=` m ${c} 0`),n(4,_+=` l ${i-c-s} 0 a ${s} ${s} 0 0 1 ${s},${s}`),n(4,_+=` l 0 ${o-s-l} a ${l} ${l} 0 0 1 ${-l},${l}`),n(4,_+=` l ${l+d-i} 0 a ${d} ${d} 0 0 1 ${-d},${-d}`),n(4,_+=` l 0 ${d+c-o} a ${c} ${c} 0 0 1 ${c},${-c}`)}else n(4,_+=` l ${i} 0`),n(4,_+=` l 0 ${o}`),n(4,_+=` l ${-i} 0`),n(4,_+=" l 0 "+-o);n(4,_+=" z")}12&t.$$.dirty&&n(5,d="dashed"===m.style?`${2*r} ${2*r}`:"dotted"===m.style?"0 "+2*r:void 0)},[c,u,m,r,_,d,l,s,p,o,i,a]}class te extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Gt,Vt,i.safe_not_equal,{width:0,height:1,border:2,clipPath:8},Ot)}}const ee=te;function ne(t){(0,i.append_styles)(t,"svelte-1m9gl70",".mondrian__item-3FBfR1{--mon-item-bounding-box-color:var(--mon-color-border-selected);position:absolute;z-index:1;height:max-content;width:max-content;pointer-events:var(--mon-item-pointer-events);box-sizing:border-box}.mondrian__item-3FBfR1::before{content:'';pointer-events:none;position:absolute;inset:0;outline:0 solid transparent;transition:outline 0.15s ease-in-out}.mondrian__item-3FBfR1.mondrian__--mon-dragging-2OZ85_{cursor:grab;opacity:0.3}.mondrian__item-3FBfR1.mondrian__--root-2qMIqC{position:relative}.mondrian__item-3FBfR1{opacity:1;transform:none}.mondrian__item-3FBfR1.mondrian__--smooth-transitions-2g4BMU{transition:all 100ms ease}.mondrian__item-3FBfR1.mondrian__--hidden-3HqFu{opacity:0;pointer-events:none}.mondrian__item-3FBfR1:is(\n      .mondrian__--hover-3Ppv6Q,\n      .mondrian__--selected-1gAkmK,\n      .mondrian__--dropping-into-1Cj5hE,\n      [data-selectable-children]\n    )::before{outline:var(--bounding-box-thickness, 0) var(--bounding-box-style, solid)\n      var(--mon-item-bounding-box-color)}.mondrian__item-3FBfR1.mondrian__--hover-3Ppv6Q{--bounding-box-thickness:var(--art-border-width-lg)}.mondrian__item-3FBfR1.mondrian__--selected-1gAkmK{--bounding-box-thickness:var(--art-border-width-md)}.mondrian__item-3FBfR1.mondrian__--dropping-into-1Cj5hE{--bounding-box-thickness:var(--art-border-width-md);--bounding-box-style:dashed}.mondrian__item-3FBfR1[data-selectable-children]::before{--bounding-box-thickness:var(--art-border-width-lg);--bounding-box-style:dashed}.mondrian__item-3FBfR1.mondrian__--clickable-2ByYaN{cursor:pointer}.mondrian__item-3FBfR1:is(.mondrian__--selected-1gAkmK):hover{cursor:grab}.mondrian__item-3FBfR1:is(.mondrian__--selected-1gAkmK):active{cursor:grabbing}.mondrian__item-3FBfR1.mondrian__--debug-23_fYE::after{content:attr(data-parent-id) '>' attr(data-item-id);position:absolute;bottom:0;right:0;overflow:hidden;white-space:nowrap;padding:var(--art-space-0-25) var(--art-space-0-5);font:1.1rem / 1 monospace;background-color:#f006;-webkit-backdrop-filter:grayscale(100%) blur(3px);backdrop-filter:grayscale(100%) blur(3px);color:#000;border-radius:var(--art-border-radius-sm) 0 0 0;pointer-events:none}.mondrian__item-3FBfR1.mondrian__--preview-item-2Fg-hY{--mon-item-pointer-events:none;position:static}.mondrian__item-3FBfR1:focus-visible{outline:none}.mon-app:not(.mon-meta-key-down, .mon-preview-active)\n    :is(\n      .mondrian__item-3FBfR1[data-item-type='group'] .mondrian__item-3FBfR1:not([data-selectable], .mondrian__--selected-1gAkmK)\n    ){--mon-item-pointer-events:none}.mondrian__item-3FBfR1[data-selectable]{--mon-item-pointer-events:auto}")}const ie=t=>({}),oe=t=>({}),re=t=>({}),ae=t=>({});function se(t){let e,n;return e=new Ut({props:{assets:t[0].assets,fill:t[22]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};1&n[0]&&(i.assets=t[0].assets),4194304&n[0]&&(i.fill=t[22]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function le(t){let e,n;return e=new Ut({props:{assets:t[0].assets,fill:t[21]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};1&n[0]&&(i.assets=t[0].assets),2097152&n[0]&&(i.fill=t[21]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function de(t){let e,n,o,r=null!=t[22]&&se(t),a=null!=t[21]&&le(t);return{c(){r&&r.c(),e=(0,i.space)(),a&&a.c(),n=(0,i.empty)()},m(t,s){r&&r.m(t,s),(0,i.insert)(t,e,s),a&&a.m(t,s),(0,i.insert)(t,n,s),o=!0},p(t,o){null!=t[22]?r?(r.p(t,o),4194304&o[0]&&(0,i.transition_in)(r,1)):(r=se(t),r.c(),(0,i.transition_in)(r,1),r.m(e.parentNode,e)):r&&((0,i.group_outros)(),(0,i.transition_out)(r,1,1,(()=>{r=null})),(0,i.check_outros)()),null!=t[21]?a?(a.p(t,o),2097152&o[0]&&(0,i.transition_in)(a,1)):(a=le(t),a.c(),(0,i.transition_in)(a,1),a.m(n.parentNode,n)):a&&((0,i.group_outros)(),(0,i.transition_out)(a,1,1,(()=>{a=null})),(0,i.check_outros)())},i(t){o||((0,i.transition_in)(r),(0,i.transition_in)(a),o=!0)},o(t){(0,i.transition_out)(r),(0,i.transition_out)(a),o=!1},d(t){t&&((0,i.detach)(e),(0,i.detach)(n)),r&&r.d(t),a&&a.d(t)}}}function ce(t){let e,n,o,r,a,s,l,d,c,u,m,p,_,g,f,h,$,b,v,y,w,x=`rotate(${t[15]}deg)`;n=new Nt({props:{item:t[0],$$slots:{default:[de]},$$scope:{ctx:t}}});const z=t[31].before,k=(0,i.create_slot)(z,t,t[37],ae),A=[t[18]];var C=t[2];function I(t,e){let n={};for(let t=0;t<A.length;t+=1)n=(0,i.assign)(n,A[t]);return void 0!==e&&262144&e[0]&&(n=(0,i.assign)(n,(0,i.get_spread_update)(A,[(0,i.get_spread_object)(t[18])]))),{props:n}}C&&(a=(0,i.construct_svelte_component)(C,I(t))),l=new ee({props:{width:t[14].width,height:t[14].height,border:t[14].border,clipPath:t[14].clipPath??t[14].borderRadius}});const S=t[31].after,E=(0,i.create_slot)(S,t,t[37],oe);let R=[{"data-item-type":c=t[0].type},{"data-item-id":u=t[0].id.slice(0,5)},{"data-parent-id":m=t[0].parentId.slice(0,5)},{"data-mon-locked":p=!!t[7]||void 0},{"data-mon-item-id":_=t[0].id},{"data-selectable-children":g=t[12]||void 0},{"data-selectable":f=t[13]||void 0},{"aria-hidden":h=!t[11]},{class:"mondrian__item-3FBfR1"},{tabindex:"-1"}],B={};for(let t=0;t<R.length;t+=1)B=(0,i.assign)(B,R[t]);return{c(){e=(0,i.element)(t[0].tagName??"div"),(0,i.create_component)(n.$$.fragment),o=(0,i.space)(),k&&k.c(),r=(0,i.space)(),a&&(0,i.create_component)(a.$$.fragment),s=(0,i.space)(),(0,i.create_component)(l.$$.fragment),d=(0,i.space)(),E&&E.c(),(0,i.set_dynamic_element_data)(t[0].tagName??"div")(e,B),(0,i.toggle_class)(e,"mondrian__--debug-23_fYE",!1),(0,i.toggle_class)(e,"mondrian__--mon-dragging-2OZ85_",t[8]),(0,i.toggle_class)(e,"mondrian__--root-2qMIqC",t[1]),(0,i.toggle_class)(e,"mondrian__--hidden-3HqFu",!t[11]),(0,i.toggle_class)(e,"mondrian__--selected-1gAkmK",t[5]),(0,i.toggle_class)(e,"mondrian__--dropping-into-1Cj5hE",t[9]),(0,i.toggle_class)(e,"mondrian__--hover-3Ppv6Q",t[6]),(0,i.toggle_class)(e,"mondrian__--preview-item-2Fg-hY",t[4]),(0,i.toggle_class)(e,"mondrian__--clickable-2ByYaN",t[17]),(0,i.toggle_class)(e,"mondrian__--smooth-transitions-2g4BMU",t[27]),(0,i.set_style)(e,"--mon-item-border-width",t[14].border.applied?`calc(${It(t[14].border.width)} / 2)`:"0"),(0,i.set_style)(e,"width",t[26]),(0,i.set_style)(e,"height",t[25]),(0,i.set_style)(e,"border-radius",t[20]),(0,i.set_style)(e,"top",t[23]),(0,i.set_style)(e,"left",t[24]),(0,i.set_style)(e,"z-index",t[19]),(0,i.set_style)(e,"transform",x)},m(c,u){(0,i.insert)(c,e,u),(0,i.mount_component)(n,e,null),(0,i.append)(e,o),k&&k.m(e,null),(0,i.append)(e,r),a&&(0,i.mount_component)(a,e,null),(0,i.append)(e,s),(0,i.mount_component)(l,e,null),(0,i.append)(e,d),E&&E.m(e,null),t[36](e),v=!0,y||(w=[(0,i.listen)(e,"mousedown",t[32]),(0,i.listen)(e,"click",t[33]),(0,i.listen)(e,"keydown",t[34]),(0,i.listen)(e,"keyup",t[35]),(0,i.action_destroyer)($=t[10].call(null,e,{itemId:t[0].id,enabled:!t[7]})),(0,i.action_destroyer)(b=t[3].call(null,e,t[0]))],y=!0)},p(t,o){const r={};if(1&o[0]&&(r.item=t[0]),6291457&o[0]|64&o[1]&&(r.$$scope={dirty:o,ctx:t}),n.$set(r),k&&k.p&&(!v||64&o[1])&&(0,i.update_slot_base)(k,z,t,t[37],v?(0,i.get_slot_changes)(z,t[37],o,re):(0,i.get_all_dirty_from_scope)(t[37]),ae),4&o[0]&&C!==(C=t[2])){if(a){(0,i.group_outros)();const t=a;(0,i.transition_out)(t.$$.fragment,1,0,(()=>{(0,i.destroy_component)(t,1)})),(0,i.check_outros)()}C?(a=(0,i.construct_svelte_component)(C,I(t,o)),(0,i.create_component)(a.$$.fragment),(0,i.transition_in)(a.$$.fragment,1),(0,i.mount_component)(a,e,s)):a=null}else if(C){const e=262144&o[0]?(0,i.get_spread_update)(A,[(0,i.get_spread_object)(t[18])]):{};a.$set(e)}const d={};16384&o[0]&&(d.width=t[14].width),16384&o[0]&&(d.height=t[14].height),16384&o[0]&&(d.border=t[14].border),16384&o[0]&&(d.clipPath=t[14].clipPath??t[14].borderRadius),l.$set(d),E&&E.p&&(!v||64&o[1])&&(0,i.update_slot_base)(E,S,t,t[37],v?(0,i.get_slot_changes)(S,t[37],o,ie):(0,i.get_all_dirty_from_scope)(t[37]),oe),(0,i.set_dynamic_element_data)(t[0].tagName??"div")(e,B=(0,i.get_spread_update)(R,[(!v||1&o[0]&&c!==(c=t[0].type))&&{"data-item-type":c},(!v||1&o[0]&&u!==(u=t[0].id.slice(0,5)))&&{"data-item-id":u},(!v||1&o[0]&&m!==(m=t[0].parentId.slice(0,5)))&&{"data-parent-id":m},(!v||128&o[0]&&p!==(p=!!t[7]||void 0))&&{"data-mon-locked":p},(!v||1&o[0]&&_!==(_=t[0].id))&&{"data-mon-item-id":_},(!v||4096&o[0]&&g!==(g=t[12]||void 0))&&{"data-selectable-children":g},(!v||8192&o[0]&&f!==(f=t[13]||void 0))&&{"data-selectable":f},(!v||2048&o[0]&&h!==(h=!t[11]))&&{"aria-hidden":h},{class:"mondrian__item-3FBfR1"},{tabindex:"-1"}])),$&&(0,i.is_function)($.update)&&129&o[0]&&$.update.call(null,{itemId:t[0].id,enabled:!t[7]}),b&&(0,i.is_function)(b.update)&&1&o[0]&&b.update.call(null,t[0]),(0,i.toggle_class)(e,"mondrian__--debug-23_fYE",!1),(0,i.toggle_class)(e,"mondrian__--mon-dragging-2OZ85_",t[8]),(0,i.toggle_class)(e,"mondrian__--root-2qMIqC",t[1]),(0,i.toggle_class)(e,"mondrian__--hidden-3HqFu",!t[11]),(0,i.toggle_class)(e,"mondrian__--selected-1gAkmK",t[5]),(0,i.toggle_class)(e,"mondrian__--dropping-into-1Cj5hE",t[9]),(0,i.toggle_class)(e,"mondrian__--hover-3Ppv6Q",t[6]),(0,i.toggle_class)(e,"mondrian__--preview-item-2Fg-hY",t[4]),(0,i.toggle_class)(e,"mondrian__--clickable-2ByYaN",t[17]),(0,i.toggle_class)(e,"mondrian__--smooth-transitions-2g4BMU",t[27]),16384&o[0]&&(0,i.set_style)(e,"--mon-item-border-width",t[14].border.applied?`calc(${It(t[14].border.width)} / 2)`:"0"),67108864&o[0]&&(0,i.set_style)(e,"width",t[26]),33554432&o[0]&&(0,i.set_style)(e,"height",t[25]),1048576&o[0]&&(0,i.set_style)(e,"border-radius",t[20]),8388608&o[0]&&(0,i.set_style)(e,"top",t[23]),16777216&o[0]&&(0,i.set_style)(e,"left",t[24]),524288&o[0]&&(0,i.set_style)(e,"z-index",t[19]),32768&o[0]&&x!==(x=`rotate(${t[15]}deg)`)&&(0,i.set_style)(e,"transform",x)},i(t){v||((0,i.transition_in)(n.$$.fragment,t),(0,i.transition_in)(k,t),a&&(0,i.transition_in)(a.$$.fragment,t),(0,i.transition_in)(l.$$.fragment,t),(0,i.transition_in)(E,t),v=!0)},o(t){(0,i.transition_out)(n.$$.fragment,t),(0,i.transition_out)(k,t),a&&(0,i.transition_out)(a.$$.fragment,t),(0,i.transition_out)(l.$$.fragment,t),(0,i.transition_out)(E,t),v=!1},d(o){o&&(0,i.detach)(e),(0,i.destroy_component)(n),k&&k.d(o),a&&(0,i.destroy_component)(a),(0,i.destroy_component)(l),E&&E.d(o),t[36](null),y=!1,(0,i.run_all)(w)}}}function ue(t){let e,n,o=t[0].tagName??"div",r=(t[0].tagName??"div")&&ce(t);return{c(){r&&r.c(),e=(0,i.empty)()},m(t,o){r&&r.m(t,o),(0,i.insert)(t,e,o),n=!0},p(t,n){t[0].tagName??"div"?o?(0,i.safe_not_equal)(o,t[0].tagName??"div")?(r.d(1),r=ce(t),o=t[0].tagName??"div",r.c(),r.m(e.parentNode,e)):r.p(t,n):(r=ce(t),o=t[0].tagName??"div",r.c(),r.m(e.parentNode,e)):o&&(r.d(1),r=null,o=t[0].tagName??"div")},i(t){n||((0,i.transition_in)(r,t),n=!0)},o(t){(0,i.transition_out)(r,t),n=!1},d(t){t&&(0,i.detach)(e),r&&r.d(t)}}}function me({event:t}){return"click"===t}function pe(t,e,n){let o,r,a,s,l,d,c,u,m,p,_,g,f,h,{$$slots:$={},$$scope:b}=e,{item:v}=e,{idx:y=0}=e,{isRoot:w=!1}=e,{ItemComponent:x}=e,{bindTriggers:A=(()=>{})}=e,{stateId:C}=e,{isPreviewItem:I=!1}=e,{isSelected:S=!1}=e,{isHovered:E=!1}=e,{isLocked:R=!1}=e,{isDragging:B=!1}=e,{isDroppingInto:M=!1}=e,{hoverItem:L=(()=>{})}=e,{visible:j}=e,{selectableChildren:F=!1}=e,{selectable:P=!1}=e;const q=(0,z.getContext)(k)??!1;return t.$$set=t=>{"item"in t&&n(0,v=t.item),"idx"in t&&n(28,y=t.idx),"isRoot"in t&&n(1,w=t.isRoot),"ItemComponent"in t&&n(2,x=t.ItemComponent),"bindTriggers"in t&&n(3,A=t.bindTriggers),"stateId"in t&&n(29,C=t.stateId),"isPreviewItem"in t&&n(4,I=t.isPreviewItem),"isSelected"in t&&n(5,S=t.isSelected),"isHovered"in t&&n(6,E=t.isHovered),"isLocked"in t&&n(7,R=t.isLocked),"isDragging"in t&&n(8,B=t.isDragging),"isDroppingInto"in t&&n(9,M=t.isDroppingInto),"hoverItem"in t&&n(10,L=t.hoverItem),"visible"in t&&n(11,j=t.visible),"selectableChildren"in t&&n(12,F=t.selectableChildren),"selectable"in t&&n(13,P=t.selectable),"$$scope"in t&&n(37,b=t.$$scope)},t.$$.update=()=>{if(536870913&t.$$.dirty[0]&&n(14,o=Ct(v,C)),1073790976&t.$$.dirty[0]){const t=o.rotation??0;if(null==g)n(15,f=t);else if(t!==g){let e=t-g;e>180?e-=360:e<=-180&&(e+=360),n(15,f+=e)}n(30,g=t)}16384&t.$$.dirty[0]&&n(26,r=It(o.width)),16384&t.$$.dirty[0]&&n(25,a=It(o.height)),16384&t.$$.dirty[0]&&n(24,s=It(o.x)),16384&t.$$.dirty[0]&&n(23,l=It(o.y)),16384&t.$$.dirty[0]&&n(22,d=o.fill),16384&t.$$.dirty[0]&&n(21,c=o.overlay),16384&t.$$.dirty[0]&&n(20,u=o.borderRadius.applied&&!o.clipPath?[o.borderRadius.topLeft,o.borderRadius.topRight,o.borderRadius.bottomRight,o.borderRadius.bottomLeft].map(It).join(" "):void 0),268435456&t.$$.dirty[0]&&n(19,m=9999-y),536870913&t.$$.dirty[0]&&n(18,p=function(t,e){switch(t){case"text":case"shape":return{item:v,isPreviewItem:I,stateId:e};default:return{item:v}}}(v.type,C)),1&t.$$.dirty[0]&&n(17,_=v?.triggers.some(me))},[v,w,x,A,I,S,E,R,B,M,L,j,F,P,o,f,h,_,p,m,u,c,d,l,s,a,r,q,y,C,g,$,function(e){i.bubble.call(this,t,e)},function(e){i.bubble.call(this,t,e)},function(e){i.bubble.call(this,t,e)},function(e){i.bubble.call(this,t,e)},function(t){i.binding_callbacks[t?"unshift":"push"]((()=>{h=t,n(16,h)}))},b]}class _e extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,pe,ue,i.safe_not_equal,{item:0,idx:28,isRoot:1,ItemComponent:2,bindTriggers:3,stateId:29,isPreviewItem:4,isSelected:5,isHovered:6,isLocked:7,isDragging:8,isDroppingInto:9,hoverItem:10,visible:11,selectableChildren:12,selectable:13},ne,[-1,-1])}}const ge=_e;function fe(t){(0,i.append_styles)(t,"svelte-auihv0",".mondrian__text-item-base-20KEaz{display:flex;flex-direction:column;height:100%;min-height:inherit;display:flex;justify-content:center;align-items:center}.mondrian__text-item-clip-boundary-20TxM9{width:100%;height:100%;position:relative}.mondrian__text-item-clip-boundary-20TxM9.mondrian__--ellipse-sowD0P{width:calc(100% / sqrt(2));height:calc(100% / sqrt(2))}.mondrian__text-item-padding-boundary-DkXHdh{display:flex;flex-direction:column;position:absolute;inset:16px}.mondrian__text-item-padding-boundary-DkXHdh.mondrian__--small-2FvuvF{left:8px;right:8px}.mondrian__text-item-padding-boundary-DkXHdh.mondrian__--large-2aZHme{left:32px;right:32px}.mondrian__text-item-padding-boundary-DkXHdh[data-vertical-align='top']{justify-content:flex-start}.mondrian__text-item-padding-boundary-DkXHdh[data-vertical-align='middle']{justify-content:center}.mondrian__text-item-padding-boundary-DkXHdh[data-vertical-align='bottom']{justify-content:flex-end}.mondrian__text-item-base-20KEaz .tiptap{height:auto}")}const he=t=>({item:1&t}),$e=t=>({item:t[0]});function be(t){let e,n,o,r,a;const s=t[5].default,l=(0,i.create_slot)(s,t,t[4],$e);return{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),o=(0,i.element)("div"),l&&l.c(),(0,i.attr)(o,"class","mondrian__text-item-padding-boundary-DkXHdh"),(0,i.attr)(o,"data-vertical-align",r=t[1].textVerticalAlign),(0,i.toggle_class)(o,"mondrian__--small-2FvuvF",t[2]<=100),(0,i.toggle_class)(o,"mondrian__--large-2aZHme",t[2]>300),(0,i.attr)(n,"class","mondrian__text-item-clip-boundary-20TxM9"),(0,i.toggle_class)(n,"mondrian__--ellipse-sowD0P","ellipse"===t[1].clipPath),(0,i.attr)(e,"class","mondrian__text-item-base-20KEaz")},m(t,r){(0,i.insert)(t,e,r),(0,i.append)(e,n),(0,i.append)(n,o),l&&l.m(o,null),a=!0},p(t,[e]){l&&l.p&&(!a||17&e)&&(0,i.update_slot_base)(l,s,t,t[4],a?(0,i.get_slot_changes)(s,t[4],e,he):(0,i.get_all_dirty_from_scope)(t[4]),$e),(!a||2&e&&r!==(r=t[1].textVerticalAlign))&&(0,i.attr)(o,"data-vertical-align",r),(!a||4&e)&&(0,i.toggle_class)(o,"mondrian__--small-2FvuvF",t[2]<=100),(!a||4&e)&&(0,i.toggle_class)(o,"mondrian__--large-2aZHme",t[2]>300),(!a||2&e)&&(0,i.toggle_class)(n,"mondrian__--ellipse-sowD0P","ellipse"===t[1].clipPath)},i(t){a||((0,i.transition_in)(l,t),a=!0)},o(t){(0,i.transition_out)(l,t),a=!1},d(t){t&&(0,i.detach)(e),l&&l.d(t)}}}function ve(t,e,n){let i,o,{$$slots:r={},$$scope:a}=e,{item:s}=e,{stateId:l}=e;return t.$$set=t=>{"item"in t&&n(0,s=t.item),"stateId"in t&&n(3,l=t.stateId),"$$scope"in t&&n(4,a=t.$$scope)},t.$$.update=()=>{9&t.$$.dirty&&n(1,i=Ct(s,l)),2&t.$$.dirty&&n(2,o=i.width.value)},[s,i,o,l,a,r]}class ye extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,ve,be,i.safe_not_equal,{item:0,stateId:3},fe)}}const we=ye;var xe=n(3948);function ze(t){let e,n;return e=new we({props:{item:t[0],stateId:t[1],$$slots:{default:[ke]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};1&n&&(i.item=t[0]),2&n&&(i.stateId=t[1]),12&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function ke(t){let e,n,o=(0,xe.Z)(t[2],ft)+"";return{c(){e=(0,i.element)("div"),n=(0,i.element)("div"),(0,i.attr)(n,"class","tiptap ProseMirror"),(0,i.attr)(e,"class",Ee)},m(t,r){(0,i.insert)(t,e,r),(0,i.append)(e,n),n.innerHTML=o},p(t,e){4&e&&o!==(o=(0,xe.Z)(t[2],ft)+"")&&(n.innerHTML=o)},d(t){t&&(0,i.detach)(e)}}}function Ae(t){let e,n,o=void 0!==t[2]&&ze(t);return{c(){o&&o.c(),e=(0,i.empty)()},m(t,r){o&&o.m(t,r),(0,i.insert)(t,e,r),n=!0},p(t,[n]){void 0!==t[2]?o?(o.p(t,n),4&n&&(0,i.transition_in)(o,1)):(o=ze(t),o.c(),(0,i.transition_in)(o,1),o.m(e.parentNode,e)):o&&((0,i.group_outros)(),(0,i.transition_out)(o,1,1,(()=>{o=null})),(0,i.check_outros)())},i(t){n||((0,i.transition_in)(o),n=!0)},o(t){(0,i.transition_out)(o),n=!1},d(t){t&&(0,i.detach)(e),o&&o.d(t)}}}function Ce(t,e,n){let{item:i}=e,{stateId:o}=e,{doc:r}=e;return t.$$set=t=>{"item"in t&&n(0,i=t.item),"stateId"in t&&n(1,o=t.stateId),"doc"in t&&n(2,r=t.doc)},[i,o,r]}class Ie extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ce,Ae,i.safe_not_equal,{item:0,stateId:1,doc:2})}}const Se=Ie;i.SvelteComponent;const Ee=x.textItem;function Re(t){let e,n;return e=new Se({props:{doc:t[2],item:t[0],stateId:t[1]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,[n]){const i={};4&n&&(i.doc=t[2]),1&n&&(i.item=t[0]),2&n&&(i.stateId=t[1]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Be(t,e,n){let i,o,{item:r}=e,{stateId:a}=e;return t.$$set=t=>{"item"in t&&n(0,r=t.item),"stateId"in t&&n(1,a=t.stateId)},t.$$.update=()=>{3&t.$$.dirty&&n(3,i=r.states[a]),8&t.$$.dirty&&n(2,o=i?.text?.json)},[r,a,o,i]}class Me extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Be,Re,i.safe_not_equal,{item:0,stateId:1})}}const Le=Me;function je(t){(0,i.append_styles)(t,"svelte-1vwx6yd",".mondrian__surface-3PSuzl{width:100%;position:relative}")}function Fe(t,e,n){const i=t.slice();return i[5]=e[n],i[7]=n,i}function Pe(t,e){let n,o,r,a;var s=e[0];function l(t,e){return{props:{idx:t[7],itemId:t[5].id}}}return s&&(o=(0,i.construct_svelte_component)(s,l(e))),{key:t,first:null,c(){n=(0,i.empty)(),o&&(0,i.create_component)(o.$$.fragment),r=(0,i.empty)(),this.first=n},m(t,e){(0,i.insert)(t,n,e),o&&(0,i.mount_component)(o,t,e),(0,i.insert)(t,r,e),a=!0},p(t,n){if(e=t,1&n&&s!==(s=e[0])){if(o){(0,i.group_outros)();const t=o;(0,i.transition_out)(t.$$.fragment,1,0,(()=>{(0,i.destroy_component)(t,1)})),(0,i.check_outros)()}s?(o=(0,i.construct_svelte_component)(s,l(e)),(0,i.create_component)(o.$$.fragment),(0,i.transition_in)(o.$$.fragment,1),(0,i.mount_component)(o,r.parentNode,r)):o=null}else if(s){const t={};2&n&&(t.idx=e[7]),2&n&&(t.itemId=e[5].id),o.$set(t)}},i(t){a||(o&&(0,i.transition_in)(o.$$.fragment,t),a=!0)},o(t){o&&(0,i.transition_out)(o.$$.fragment,t),a=!1},d(t){t&&((0,i.detach)(n),(0,i.detach)(r)),o&&(0,i.destroy_component)(o,t)}}}function qe(t){let e,n,o=[],r=new Map,a=(0,i.ensure_array_like)(t[1].children);const s=t=>t[5].id;for(let e=0;e<a.length;e+=1){let n=Fe(t,a,e),i=s(n);r.set(i,o[e]=Pe(i,n))}return{c(){e=(0,i.element)("div");for(let t=0;t<o.length;t+=1)o[t].c();(0,i.attr)(e,"class","mondrian__surface-3PSuzl")},m(t,r){(0,i.insert)(t,e,r);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);n=!0},p(t,[n]){3&n&&(a=(0,i.ensure_array_like)(t[1].children),(0,i.group_outros)(),o=(0,i.update_keyed_each)(o,n,s,1,t,a,r,e,i.outro_and_destroy_block,Pe,null,Fe),(0,i.check_outros)())},i(t){if(!n){for(let t=0;t<a.length;t+=1)(0,i.transition_in)(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)(0,i.transition_out)(o[t]);n=!1},d(t){t&&(0,i.detach)(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function He(t,e,n){let o,r,{item:a}=e,{Item:s=Oe}=e;const l=wt.get(a.id);return(0,i.component_subscribe)(t,l,(t=>n(4,r=t))),t.$$set=t=>{"item"in t&&n(3,a=t.item),"Item"in t&&n(0,s=t.Item)},t.$$.update=()=>{24&t.$$.dirty&&n(1,o=a.states[r])},[s,o,l,a,r]}class Ne extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,He,qe,i.safe_not_equal,{item:3,Item:0},je)}}const Ke=Ne,De=(t,e)=>{function n(n,i={}){e.triggers.filter((t=>t.event===n)).forEach((n=>{!function(t,e,n){e.dispatchEvent(new CustomEvent("trigger",{detail:n,bubbles:!0}))}(0,t,{itemId:e.id,triggerId:n.id,...i})}))}const i=[...new Set(e.triggers.map((t=>t.event)))].map((e=>e===ht?[kt("mouseenter",t,(()=>{n(e,{hovered:!0})})),kt("mouseleave",t,(()=>{n(e,{hovered:!1})}))]:kt(e,t,(()=>{n(e)})))).flat(2).filter(Boolean);return{destroy(){i.forEach((t=>{t()}))}}},Xe=function(){const t=(0,vt.writable)({blockuments:{},items:{}}),{subscribe:e,set:n,update:i}=t,o=new Map;return{subscribe:e,set:n,update:i,addManifest:(t,e)=>{o.set(t,e),r()},removeManifest:t=>{o.delete(t),r()}};function r(){n(function(...t){const e={};for(const n of t)for(const[t,i]of Object.entries(n))e[t]=Object.assign({},e[t],i);return e}(...o.values()))}}();function Te(t){let e,n;return e=new ge({props:{item:t[2],idx:t[0],isRoot:t[1],stateId:t[5],ItemComponent:t[4],bindTriggers:De,visible:t[6]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,[n]){const i={};4&n&&(i.item=t[2]),1&n&&(i.idx=t[0]),2&n&&(i.isRoot=t[1]),32&n&&(i.stateId=t[5]),16&n&&(i.ItemComponent=t[4]),64&n&&(i.visible=t[6]),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function Ye(t,e,n){let o,r,a,s,d,c,u=i.noop;(0,i.component_subscribe)(t,Xe,(t=>n(9,s=t))),t.$$.on_destroy.push((()=>u()));let{itemId:m}=e,{idx:p=0}=e,{isRoot:_=!1}=e;const g=zt.get(m);return(0,i.component_subscribe)(t,g,(t=>n(6,c=t))),t.$$set=t=>{"itemId"in t&&n(8,m=t.itemId),"idx"in t&&n(0,p=t.idx),"isRoot"in t&&n(1,_=t.isRoot)},t.$$.update=()=>{768&t.$$.dirty&&n(2,o=s.items[m]),4&t.$$.dirty&&n(4,r=(t=>({image:()=>l,text:()=>Le,group:()=>Ke,shape:()=>Le}[t.type]()))(o)),4&t.$$.dirty&&(n(3,a=wt.get(o.id)),u(),u=(0,i.subscribe)(a,(t=>n(5,d=t))))},[p,_,o,a,r,d,c,g,m,s]}class Ue extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,Ye,Te,i.safe_not_equal,{itemId:8,idx:0,isRoot:1})}}const Oe=Ue;n(2466);var Ze=n(9205);const Ve=n.n(Ze)()("mondrian").extend("keyboard"),Qe=(Object.freeze(["Alt","Control","Meta","Shift"]),{activeModifierKeys:new Set,get alt(){return Qe.activeModifierKeys.has("Alt")},get meta(){return Qe.activeModifierKeys.has("Meta")||Qe.activeModifierKeys.has("Control")},get shift(){return Qe.activeModifierKeys.has("Shift")},key:void 0,get combo(){return[Qe.meta&&"Meta",Qe.alt&&"Alt",Qe.shift&&"Shift",Qe.key].filter(Boolean).join("+")}});function Je({metaKey:t,altKey:e,shiftKey:n,ctrlKey:i},o){let r=!1;return t!==o.has("Meta")&&(r=!0,t?o.add("Meta"):o.delete("Meta")),e!==o.has("Alt")&&(r=!0,e?o.add("Alt"):o.delete("Alt")),n!==o.has("Shift")&&(r=!0,n?o.add("Shift"):o.delete("Shift")),i!==o.has("Control")&&(r=!0,i?o.add("Control"):o.delete("Control")),r}let We=!1;const Ge={...(0,vt.readable)(Qe,(t=>{function e(e){const n="keydown"===e.type;Je(e,Qe.activeModifierKeys),Qe.key=n?e.key:void 0,t(Qe)}function n(e){Je(e,Qe.activeModifierKeys)&&t(Qe)}We||(We=!0,window.addEventListener("keydown",e),window.addEventListener("keyup",e),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(Qe.activeModifierKeys.clear(),Qe.key=void 0,t(Qe))})),window.addEventListener("blur",(function(){Qe.activeModifierKeys.clear(),Qe.key=void 0,t(Qe)})),window.addEventListener("mousedown",n,{passive:!0,capture:!0}),window.addEventListener("mousemove",n,{passive:!0,capture:!0}))})),is:t=>(Qe.combo&&Ve(`comparing keycombos, store: ${Qe.combo}, comparison: ${t}`),Qe.combo.toLowerCase()===t.toLowerCase()),on(t,e){const n=n=>{Ge.is(t)&&(Ve("keyCombo matched, executing handler",t),e(n))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}},tn={down:!1,downX:-1,downY:-1,target:void 0,x:-1,y:-1},en=((0,vt.readable)(tn,(t=>{return window.addEventListener("mousedown",e),window.addEventListener("mousemove",i),window.addEventListener("mouseup",n),function(){window.removeEventListener("mousedown",e),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",n)};function e(t){tn.down=!0,tn.downX=tn.x=t.clientX,tn.downY=tn.y=t.clientY,tn.target=t.target,o()}function n(){tn.down=!1,tn.downX=tn.x=tn.downY=tn.y=-1,tn.target=void 0,o()}function i(t){tn.x=t.x,tn.y=t.y,o()}function o(){t(tn)}})),"mondrian-suspense");i.SvelteComponent,n(2732);var nn=n(5494);const on={nw:"top-start",n:"top",ne:"top-end",sw:"bottom-start",s:"bottom",se:"bottom-end"},rn=new ResizeObserver(cn);let an,sn,ln;function dn(t){const e=function(t){for(let e=t;e;e=e.parentElement)if(e.classList.contains("mon-tooltip-anchor"))return e}(t.target);if(e===an)return;sn&&(sn.removeAttribute("data-active"),rn.unobserve(sn));const n=e?.querySelector("[data-mon-tooltip]");if(!n||n.getAttribute("aria-hidden"))return an=void 0,void(sn=void 0);n.setAttribute("data-active","true"),n.showPopover(),an=e,sn=n,ln=sn.querySelector("[data-mon-tooltip-arrow]"),cn(),rn.observe(sn)}async function cn(){if(an&&sn){const{x:t,y:e,middlewareData:n}=await(0,nn.rD)(an,sn,{middleware:[(0,nn.cY)(5),(0,nn.UU)(),(0,nn.BN)(),(0,nn.UE)({element:ln})],strategy:"fixed",placement:on[sn.getAttribute("data-position")]});if(sn.style.transform=`translate(${t}px,${e}px)`,n.arrow){const{x:t,y:e}=n.arrow;ln.style.left=null!=t?`${t}px`:"",ln.style.top=null!=e?`${e}px`:""}}}function un(t){(0,i.append_styles)(t,"svelte-1ooljvd",".mondrian__suspense-3tgPBN.mondrian__--loading-3irTkJ{visibility:hidden}")}document.addEventListener("mouseover",dn,{passive:!0}),document.documentElement.addEventListener("mouseleave",dn,{passive:!0}),document.addEventListener("scroll",cn,{passive:!0,capture:!0}),i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,n(9777),i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent;const mn=t=>({isLoading:1&t}),pn=t=>({isLoading:t[0]});function _n(t){let e,n;const o=t[2].default,r=(0,i.create_slot)(o,t,t[1],pn);return{c(){e=(0,i.element)("div"),r&&r.c(),(0,i.attr)(e,"class","mondrian__suspense-3tgPBN"),(0,i.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},m(t,o){(0,i.insert)(t,e,o),r&&r.m(e,null),n=!0},p(t,[a]){r&&r.p&&(!n||3&a)&&(0,i.update_slot_base)(r,o,t,t[1],n?(0,i.get_slot_changes)(o,t[1],a,mn):(0,i.get_all_dirty_from_scope)(t[1]),pn),(!n||1&a)&&(0,i.toggle_class)(e,"mondrian__--loading-3irTkJ",t[0])},i(t){n||((0,i.transition_in)(r,t),n=!0)},o(t){(0,i.transition_out)(r,t),n=!1},d(t){t&&(0,i.detach)(e),r&&r.d(t)}}}function gn(t,e,n){let{$$slots:i={},$$scope:o}=e;const r=function(){const t=new Set;return(0,z.setContext)(en,t),t}();let a=!0;return(0,z.onMount)((()=>{Promise.all(r).then((()=>{n(0,a=!1)}))})),t.$$set=t=>{"$$scope"in t&&n(1,o=t.$$scope)},[a,o,i]}class fn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,gn,_n,i.safe_not_equal,{},un)}}const hn=fn;i.SvelteComponent,i.SvelteComponent;const $n={[$t](t,e,n,i){const o="self"===t.targetId?n:i[t.targetId];!1===e.hovered?wt.get(o.id)?.revert():wt.get(o.id)?.set(t.targetState)},[bt](t,e,n,i){const o="self"===t.targetId?n:i[t.targetId];!1===e.hovered?zt.get(o.id)?.set(!t.targetVisibility):zt.get(o.id)?.set(t.targetVisibility)}},bn=(t,e)=>{const n=kt("trigger",t,(t=>{const{itemId:n,triggerId:i,...o}=t.detail,r=e[n];if(!r)throw new Error(`Could not execute trigger ${i} on item ${n} because the item could not be found.`);const a=r?.triggers.find((t=>t.id===i));if(!a)throw new Error(`Could not execute trigger ${i} on item ${n} because the trigger could not be found.`);const s=$n[a.action];if(!s)throw new Error(`Could not execute trigger ${i} on item ${n} because an appropriate handler for its '${a.action}' action could not be found.`);s(a,o,r,e)}));return{destroy(){n()}}};function vn(t){(0,i.append_styles)(t,"svelte-c9d0p3",".mondrian__preview-2O3gXR{display:flex;justify-content:center;position:relative;z-index:0;overflow:hidden}.mondrian__preview--empty-37mLUA{background-color:var(--art-color-neutral-050)}")}function yn(t){let e,n;return e=new jt({props:{items:t[6]}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p:i.noop,i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function wn(t){let e,n;return e=new hn({props:{$$slots:{default:[zn]},$$scope:{ctx:t}}}),{c(){(0,i.create_component)(e.$$.fragment)},m(t,o){(0,i.mount_component)(e,t,o),n=!0},p(t,n){const i={};1028&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||((0,i.transition_in)(e.$$.fragment,t),n=!0)},o(t){(0,i.transition_out)(e.$$.fragment,t),n=!1},d(t){(0,i.destroy_component)(e,t)}}}function xn(t){let e,n,o,r;return{c(){e=(0,i.element)("div"),n=(0,i.text)("Block "),o=(0,i.text)(t[0]),r=(0,i.text)(" could not be loaded")},m(t,a){(0,i.insert)(t,e,a),(0,i.append)(e,n),(0,i.append)(e,o),(0,i.append)(e,r)},p(t,e){1&e&&(0,i.set_data)(o,t[0])},i:i.noop,o:i.noop,d(t){t&&(0,i.detach)(e)}}}function zn(t){let e,n,o,r,a,s;return n=new Oe({props:{itemId:t[9].id,isRoot:!0}}),{c(){e=(0,i.element)("div"),(0,i.create_component)(n.$$.fragment),(0,i.attr)(e,"class","mondrian__preview-2O3gXR"),(0,i.toggle_class)(e,"mondrian__preview--empty-37mLUA",t[2])},m(l,d){(0,i.insert)(l,e,d),(0,i.mount_component)(n,e,null),r=!0,a||(s=(0,i.action_destroyer)(o=bn.call(null,e,t[4])),a=!0)},p(t,n){(!r||4&n)&&(0,i.toggle_class)(e,"mondrian__preview--empty-37mLUA",t[2])},i(t){r||((0,i.transition_in)(n.$$.fragment,t),r=!0)},o(t){(0,i.transition_out)(n.$$.fragment,t),r=!1},d(t){t&&(0,i.detach)(e),(0,i.destroy_component)(n),a=!1,s()}}}function kn(t){let e,n,o,r,a,s=t[1]&&yn(t);const l=[xn,wn],d=[];function c(t,e){return 1===e?function(t){const e=t.slice(),n=e[4][e[5]];return e[9]=n,e}(t):t}return n=function(t,e){return void 0===t[3]||void 0===t[5]?0:1}(t),o=d[n]=l[n](c(t,n)),{c(){s&&s.c(),e=(0,i.space)(),o.c(),r=(0,i.empty)()},m(t,o){s&&s.m(t,o),(0,i.insert)(t,e,o),d[n].m(t,o),(0,i.insert)(t,r,o),a=!0},p(t,[r]){t[1]?s?(s.p(t,r),2&r&&(0,i.transition_in)(s,1)):(s=yn(t),s.c(),(0,i.transition_in)(s,1),s.m(e.parentNode,e)):s&&((0,i.group_outros)(),(0,i.transition_out)(s,1,1,(()=>{s=null})),(0,i.check_outros)()),o.p(c(t,n),r)},i(t){a||((0,i.transition_in)(s),(0,i.transition_in)(o),a=!0)},o(t){(0,i.transition_out)(s),(0,i.transition_out)(o),a=!1},d(t){t&&((0,i.detach)(e),(0,i.detach)(r)),s&&s.d(t),d[n].d(t)}}}function An(t,e,n){let i,{manifest:o}=e,{blockumentId:r}=e,{prefetch:a=!0}=e;(0,z.setContext)(k,!0);const s=Symbol("LearnComponent"),l=o.blockuments?.[r],d=o.items??{},c=l?.children[0]?.id,u=Object.values(d);return Xe.addManifest(s,o),u.forEach((t=>{wt.add(t.id,(0,vt.readable)(t.initialState)),zt.add(t.id,(0,vt.readable)(t.initialVisible))})),(0,z.onMount)((()=>{wt.resetAll(),zt.resetAll()})),(0,z.onDestroy)((()=>{Xe.removeManifest(s)})),t.$$set=t=>{"manifest"in t&&n(7,o=t.manifest),"blockumentId"in t&&n(0,r=t.blockumentId),"prefetch"in t&&n(1,a=t.prefetch)},n(2,i=1===Object.keys(d).length),[r,a,i,l,d,c,u,o]}class Cn extends i.SvelteComponent{constructor(t){super(),(0,i.init)(this,t,An,kn,i.safe_not_equal,{manifest:7,blockumentId:0,prefetch:1},vn)}}const In=Cn;var Sn=n(2834),En=n.n(Sn);const Rn=((t,e={},n="div")=>i=>{const o=(0,Sn.useRef)(null),r=(0,Sn.useRef)(null),[a,s]=(0,Sn.useState)(!1);return(0,Sn.useEffect)((()=>{const e=/on([A-Z]{1,}[a-zA-Z]*)/,n=/watch([A-Z]{1,}[a-zA-Z]*)/;r.current=new t({target:o.current,props:i});const a=[];for(const t in i){const o=t.match(e),s=t.match(n);null!=o&&"function"==typeof i[t]&&r.current.$on(`${o[1][0].toLowerCase()}${o[1].slice(1)}`,i[t]),null!=s&&"function"==typeof i[t]&&a.push([`${s[1][0].toLowerCase()}${s[1].slice(1)}`,i[t]])}if(a.length>0){const t=r.current.$$.update;r.current.$$.update=function(){a.forEach((([t,e])=>{if(null!==r.current){const n=r.current.$$.props[t];e(r.current.$$.ctx[n])}})),t.apply(null)}}return()=>{null!==r.current&&r.current.$destroy()}}),[i]),(0,Sn.useEffect)((()=>{a?null!==r.current&&r.current.$set(i):s(!0)}),[i,a]),En().createElement(n,{ref:o,style:e})})(In),Bn=t=>En().createElement(Rn,{...t})}}]);